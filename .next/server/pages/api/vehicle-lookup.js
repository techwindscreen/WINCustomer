"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/vehicle-lookup";
exports.ids = ["pages/api/vehicle-lookup"];
exports.modules = {

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("@supabase/supabase-js");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fvehicle-lookup&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fvehicle-lookup.ts&middlewareConfigBase64=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fvehicle-lookup&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fvehicle-lookup.ts&middlewareConfigBase64=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_vehicle_lookup_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/vehicle-lookup.ts */ \"(api)/./pages/api/vehicle-lookup.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_vehicle_lookup_ts__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_vehicle_lookup_ts__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/vehicle-lookup\",\n        pathname: \"/api/vehicle-lookup\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_vehicle_lookup_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnZlaGljbGUtbG9va3VwJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlMkZhcGklMkZ2ZWhpY2xlLWxvb2t1cC50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDRTtBQUMxRDtBQUMwRDtBQUMxRDtBQUNBLGlFQUFlLHdFQUFLLENBQUMseURBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLHlEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLHlHQUFtQjtBQUNsRDtBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvYXBpL3ZlaGljbGUtbG9va3VwLnRzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsICdkZWZhdWx0Jyk7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCAnY29uZmlnJyk7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS92ZWhpY2xlLWxvb2t1cFwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3ZlaGljbGUtbG9va3VwXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogJycsXG4gICAgICAgIGZpbGVuYW1lOiAnJ1xuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fvehicle-lookup&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fvehicle-lookup.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/supabaseClient.ts":
/*!*******************************!*\
  !*** ./lib/supabaseClient.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   supabase: () => (/* binding */ supabase)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__);\n\nconst supabaseUrl = \"https://julpwjxzrlkbxdbphrdy.supabase.co\";\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp1bHB3anh6cmxrYnhkYnBocmR5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzc0MTQ4NDUsImV4cCI6MjA1Mjk5MDg0NX0.rynZAq6bjPlpfyTaxHYcs8FdVdTo_gy95lazi2Kt5RY\";\nif (!supabaseUrl) {\n    throw new Error('Missing NEXT_PUBLIC_SUPABASE_URL environment variable');\n}\nif (!supabaseAnonKey) {\n    throw new Error('Missing NEXT_PUBLIC_SUPABASE_ANON_KEY environment variable');\n}\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvc3VwYWJhc2VDbGllbnQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQW9EO0FBRXBELE1BQU1DLGNBQWNDLDBDQUFvQztBQUN4RCxNQUFNRyxrQkFBa0JILGtOQUF5QztBQUVqRSxJQUFJLENBQUNELGFBQWE7SUFDaEIsTUFBTSxJQUFJTSxNQUFNO0FBQ2xCO0FBRUEsSUFBSSxDQUFDRixpQkFBaUI7SUFDcEIsTUFBTSxJQUFJRSxNQUFNO0FBQ2xCO0FBRU8sTUFBTUMsV0FBV1IsbUVBQVlBLENBQUNDLGFBQWFJLGlCQUFnQiIsInNvdXJjZXMiOlsiL1VzZXJzL211aGFtbWFkYWxpL0Rlc2t0b3AvV2luZHNjcmVlbkNvbXBhcmUvR0lUSFVCcmVwby9XSU5DdXN0b21lci9saWIvc3VwYWJhc2VDbGllbnQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJ1xuXG5jb25zdCBzdXBhYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTDtcbmNvbnN0IHN1cGFiYXNlQW5vbktleSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZO1xuXG5pZiAoIXN1cGFiYXNlVXJsKSB7XG4gIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwgZW52aXJvbm1lbnQgdmFyaWFibGUnKVxufVxuXG5pZiAoIXN1cGFiYXNlQW5vbktleSkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkgZW52aXJvbm1lbnQgdmFyaWFibGUnKVxufVxuXG5leHBvcnQgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoc3VwYWJhc2VVcmwsIHN1cGFiYXNlQW5vbktleSkgIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsInN1cGFiYXNlVXJsIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsInN1cGFiYXNlQW5vbktleSIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwiRXJyb3IiLCJzdXBhYmFzZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/supabaseClient.ts\n");

/***/ }),

/***/ "(api)/./pages/api/vehicle-lookup.ts":
/*!*************************************!*\
  !*** ./pages/api/vehicle-lookup.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/supabaseClient */ \"(api)/./lib/supabaseClient.ts\");\n\n/**\n * Vehicle Lookup API - Caching Strategy\n * \n * This API implements intelligent caching to minimize external API calls:\n * 1. First checks Supabase cache for existing vehicle data\n * 2. Only calls UK Vehicle Data API if no cached data exists\n * 3. Caches all retrieved data in Supabase for future use\n * \n * This ensures UK Vehicle Data API is called only ONCE per unique vehicle registration.\n */ async function handler(req, res) {\n    if (req.method !== 'POST') {\n        return res.status(405).json({\n            message: 'Method not allowed'\n        });\n    }\n    const { registration } = req.body;\n    try {\n        // First, check if vehicle data already exists in Supabase\n        console.log(`Checking cache for vehicle registration: ${registration}`);\n        const { data: existingVehicle, error: dbError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabase.from('MasterCustomer').select(`\n        vehicle_reg,\n        brand,\n        model,\n        year,\n        colour,\n        type,\n        style,\n        door,\n        otr_price\n      `).eq('vehicle_reg', registration).not('brand', 'is', null).not('model', 'is', null).order('created_at', {\n            ascending: false\n        }).limit(1).single();\n        if (!dbError && existingVehicle) {\n            console.log('Found cached vehicle data:', existingVehicle);\n            // Calculate quote price from cached OTR value\n            let quotePrice = 70; // Default minimum price\n            if (existingVehicle.otr_price && !isNaN(existingVehicle.otr_price)) {\n                const calculatedPrice = Math.round(existingVehicle.otr_price * 0.01);\n                quotePrice = Math.max(calculatedPrice, 70);\n                console.log(`Using cached OTR Price: £${existingVehicle.otr_price}, Calculated Quote: £${calculatedPrice}, Final Quote: £${quotePrice}`);\n            } else {\n                console.log('No cached OTR price available, using minimum price');\n            }\n            const vehicleDetails = {\n                manufacturer: existingVehicle.brand || 'Unknown',\n                model: existingVehicle.model || 'Unknown',\n                year: existingVehicle.year || 'Unknown',\n                colour: existingVehicle.colour || 'Unknown',\n                type: existingVehicle.type || 'Unknown',\n                style: existingVehicle.style || 'Unknown',\n                doorPlan: existingVehicle.door ? `${existingVehicle.door} Doors` : 'Unknown',\n                registration: registration,\n                quotePrice: quotePrice,\n                otrPrice: existingVehicle.otr_price || null\n            };\n            console.log('Returning cached vehicle details:', vehicleDetails);\n            return res.status(200).json({\n                success: true,\n                vehicleDetails,\n                fromCache: true\n            });\n        }\n        console.log('No cached data found, fetching from external API...');\n        const apiKey = process.env.UK_VEHICLE_DATA_API_KEY;\n        if (!apiKey) {\n            console.error('UK_VEHICLE_DATA_API_KEY environment variable is not set');\n            return res.status(500).json({\n                success: false,\n                message: 'Vehicle data API key not configured'\n            });\n        }\n        // Fetch vehicle data\n        const vehicleResponse = await fetch(`https://uk1.ukvehicledata.co.uk/api/datapackage/VehicleData?v=2&api_nullitems=1&auth_apikey=${apiKey}&key_VRM=${registration}`, {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n        const vehicleData = await vehicleResponse.json();\n        console.log('Raw Vehicle API response:', JSON.stringify(vehicleData, null, 2));\n        // Fetch valuation data\n        const valuationResponse = await fetch(`https://uk1.ukvehicledata.co.uk/api/datapackage/ValuationData?v=2&api_nullitems=1&auth_apikey=${apiKey}&key_VRM=${registration}`, {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n        const valuationData = await valuationResponse.json();\n        console.log('Raw Valuation API response:', JSON.stringify(valuationData, null, 2));\n        if (vehicleData.Response?.StatusCode === \"Success\") {\n            const vehicleInfo = vehicleData.Response.DataItems;\n            console.log('Vehicle Info:', vehicleInfo);\n            // Calculate quote price from valuation data\n            let quotePrice = 70; // Default minimum price\n            if (valuationData.Response?.StatusCode === \"Success\" && valuationData.Response.DataItems?.ValuationDetails) {\n                const otrValue = valuationData.Response.DataItems.ValuationDetails.PartExchange;\n                if (otrValue && !isNaN(otrValue)) {\n                    // Calculate 1% of OTR (On The Road) price value\n                    const calculatedPrice = Math.round(otrValue * 0.01);\n                    // Ensure minimum price is £70\n                    quotePrice = Math.max(calculatedPrice, 70);\n                    console.log(`OTR Price: £${otrValue}, Calculated Quote: £${calculatedPrice}, Final Quote: £${quotePrice}`);\n                } else {\n                    console.log('OTR price not available or invalid, using minimum price');\n                }\n            } else {\n                console.log('Valuation data not available, using minimum price');\n            }\n            const vehicleDetails = {\n                manufacturer: vehicleInfo.ClassificationDetails?.Dvla?.Make || 'Unknown',\n                model: vehicleInfo.ClassificationDetails?.Dvla?.Model || 'Unknown',\n                year: vehicleInfo.VehicleRegistration?.YearOfManufacture || 'Unknown',\n                colour: vehicleInfo.VehicleRegistration?.Colour || 'Unknown',\n                type: vehicleInfo.VehicleRegistration?.VehicleClass || 'Unknown',\n                style: vehicleInfo.SmmtDetails?.BodyStyle || 'Unknown',\n                doorPlan: `${vehicleInfo.TechnicalDetails?.Dimensions?.NumberOfDoors || '?'} Doors`,\n                registration: registration,\n                quotePrice: quotePrice,\n                otrPrice: valuationData.Response?.DataItems?.ValuationDetails?.PartExchange || null\n            };\n            console.log('Processed vehicle details:', vehicleDetails);\n            // Store the fetched vehicle data in Supabase for future use\n            try {\n                const { data: insertedData, error: insertError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabase.from('MasterCustomer').insert({\n                    vehicle_reg: registration,\n                    brand: vehicleDetails.manufacturer,\n                    model: vehicleDetails.model,\n                    year: vehicleDetails.year,\n                    colour: vehicleDetails.colour,\n                    type: vehicleDetails.type,\n                    style: vehicleDetails.style,\n                    door: vehicleDetails.doorPlan.split(' ')[0],\n                    otr_price: vehicleDetails.otrPrice,\n                    created_at: new Date().toISOString(),\n                    updated_at: new Date().toISOString()\n                }).select().single();\n                if (insertError) {\n                    console.log('Note: Could not cache vehicle data (possibly duplicate):', insertError.message);\n                } else {\n                    console.log('Successfully cached vehicle data for future use');\n                }\n            } catch (cacheError) {\n                console.log('Note: Error caching vehicle data:', cacheError);\n            // Continue execution even if caching fails\n            }\n            res.status(200).json({\n                success: true,\n                vehicleDetails,\n                fromCache: false\n            });\n        } else {\n            console.log('API returned non-success status:', vehicleData.Response?.StatusMessage);\n            res.status(200).json({\n                success: true,\n                vehicleDetails: {\n                    manufacturer: 'Unknown',\n                    model: 'Unknown',\n                    year: 'Unknown',\n                    colour: 'Unknown',\n                    type: 'Unknown',\n                    style: 'Unknown',\n                    doorPlan: 'Unknown',\n                    registration: registration,\n                    quotePrice: 70,\n                    otrPrice: null\n                },\n                fromCache: false\n            });\n        }\n    } catch (error) {\n        console.error('Error in vehicle lookup:', error);\n        res.status(200).json({\n            success: true,\n            vehicleDetails: {\n                manufacturer: 'Unknown',\n                model: 'Unknown',\n                year: 'Unknown',\n                colour: 'Unknown',\n                type: 'Unknown',\n                style: 'Unknown',\n                doorPlan: 'Unknown',\n                registration: registration,\n                quotePrice: 70,\n                otrPrice: null\n            },\n            fromCache: false\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LCJzb3VyY2VzIjpbIi9Vc2Vycy9tdWhhbW1hZGFsaS9EZXNrdG9wL1dpbmRzY3JlZW5Db21wYXJlL0dJVEhVQnJlcG8vV0lOQ3VzdG9tZXIvcGFnZXMvYXBpL3ZlaGljbGUtbG9va3VwLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnO1xuaW1wb3J0IHsgc3VwYWJhc2UgfSBmcm9tICcuLi8uLi9saWIvc3VwYWJhc2VDbGllbnQnO1xuXG4vKipcbiAqIFZlaGljbGUgTG9va3VwIEFQSSAtIENhY2hpbmcgU3RyYXRlZ3lcbiAqIFxuICogVGhpcyBBUEkgaW1wbGVtZW50cyBpbnRlbGxpZ2VudCBjYWNoaW5nIHRvIG1pbmltaXplIGV4dGVybmFsIEFQSSBjYWxsczpcbiAqIDEuIEZpcnN0IGNoZWNrcyBTdXBhYmFzZSBjYWNoZSBmb3IgZXhpc3RpbmcgdmVoaWNsZSBkYXRhXG4gKiAyLiBPbmx5IGNhbGxzIFVLIFZlaGljbGUgRGF0YSBBUEkgaWYgbm8gY2FjaGVkIGRhdGEgZXhpc3RzXG4gKiAzLiBDYWNoZXMgYWxsIHJldHJpZXZlZCBkYXRhIGluIFN1cGFiYXNlIGZvciBmdXR1cmUgdXNlXG4gKiBcbiAqIFRoaXMgZW5zdXJlcyBVSyBWZWhpY2xlIERhdGEgQVBJIGlzIGNhbGxlZCBvbmx5IE9OQ0UgcGVyIHVuaXF1ZSB2ZWhpY2xlIHJlZ2lzdHJhdGlvbi5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXE6IE5leHRBcGlSZXF1ZXN0LCByZXM6IE5leHRBcGlSZXNwb25zZSkge1xuICBpZiAocmVxLm1ldGhvZCAhPT0gJ1BPU1QnKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgbWVzc2FnZTogJ01ldGhvZCBub3QgYWxsb3dlZCcgfSk7XG4gIH1cblxuICBjb25zdCB7IHJlZ2lzdHJhdGlvbiB9ID0gcmVxLmJvZHk7XG5cbiAgdHJ5IHtcbiAgICAvLyBGaXJzdCwgY2hlY2sgaWYgdmVoaWNsZSBkYXRhIGFscmVhZHkgZXhpc3RzIGluIFN1cGFiYXNlXG4gICAgY29uc29sZS5sb2coYENoZWNraW5nIGNhY2hlIGZvciB2ZWhpY2xlIHJlZ2lzdHJhdGlvbjogJHtyZWdpc3RyYXRpb259YCk7XG4gICAgXG4gICAgY29uc3QgeyBkYXRhOiBleGlzdGluZ1ZlaGljbGUsIGVycm9yOiBkYkVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ01hc3RlckN1c3RvbWVyJylcbiAgICAgIC5zZWxlY3QoYFxuICAgICAgICB2ZWhpY2xlX3JlZyxcbiAgICAgICAgYnJhbmQsXG4gICAgICAgIG1vZGVsLFxuICAgICAgICB5ZWFyLFxuICAgICAgICBjb2xvdXIsXG4gICAgICAgIHR5cGUsXG4gICAgICAgIHN0eWxlLFxuICAgICAgICBkb29yLFxuICAgICAgICBvdHJfcHJpY2VcbiAgICAgIGApXG4gICAgICAuZXEoJ3ZlaGljbGVfcmVnJywgcmVnaXN0cmF0aW9uKVxuICAgICAgLm5vdCgnYnJhbmQnLCAnaXMnLCBudWxsKVxuICAgICAgLm5vdCgnbW9kZWwnLCAnaXMnLCBudWxsKVxuICAgICAgLm9yZGVyKCdjcmVhdGVkX2F0JywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXG4gICAgICAubGltaXQoMSlcbiAgICAgIC5zaW5nbGUoKTtcblxuICAgIGlmICghZGJFcnJvciAmJiBleGlzdGluZ1ZlaGljbGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdGb3VuZCBjYWNoZWQgdmVoaWNsZSBkYXRhOicsIGV4aXN0aW5nVmVoaWNsZSk7XG4gICAgICBcbiAgICAgIC8vIENhbGN1bGF0ZSBxdW90ZSBwcmljZSBmcm9tIGNhY2hlZCBPVFIgdmFsdWVcbiAgICAgIGxldCBxdW90ZVByaWNlID0gNzA7IC8vIERlZmF1bHQgbWluaW11bSBwcmljZVxuICAgICAgXG4gICAgICBpZiAoZXhpc3RpbmdWZWhpY2xlLm90cl9wcmljZSAmJiAhaXNOYU4oZXhpc3RpbmdWZWhpY2xlLm90cl9wcmljZSkpIHtcbiAgICAgICAgY29uc3QgY2FsY3VsYXRlZFByaWNlID0gTWF0aC5yb3VuZChleGlzdGluZ1ZlaGljbGUub3RyX3ByaWNlICogMC4wMSk7XG4gICAgICAgIHF1b3RlUHJpY2UgPSBNYXRoLm1heChjYWxjdWxhdGVkUHJpY2UsIDcwKTtcbiAgICAgICAgY29uc29sZS5sb2coYFVzaW5nIGNhY2hlZCBPVFIgUHJpY2U6IMKjJHtleGlzdGluZ1ZlaGljbGUub3RyX3ByaWNlfSwgQ2FsY3VsYXRlZCBRdW90ZTogwqMke2NhbGN1bGF0ZWRQcmljZX0sIEZpbmFsIFF1b3RlOiDCoyR7cXVvdGVQcmljZX1gKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdObyBjYWNoZWQgT1RSIHByaWNlIGF2YWlsYWJsZSwgdXNpbmcgbWluaW11bSBwcmljZScpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB2ZWhpY2xlRGV0YWlscyA9IHtcbiAgICAgICAgbWFudWZhY3R1cmVyOiBleGlzdGluZ1ZlaGljbGUuYnJhbmQgfHwgJ1Vua25vd24nLFxuICAgICAgICBtb2RlbDogZXhpc3RpbmdWZWhpY2xlLm1vZGVsIHx8ICdVbmtub3duJyxcbiAgICAgICAgeWVhcjogZXhpc3RpbmdWZWhpY2xlLnllYXIgfHwgJ1Vua25vd24nLFxuICAgICAgICBjb2xvdXI6IGV4aXN0aW5nVmVoaWNsZS5jb2xvdXIgfHwgJ1Vua25vd24nLFxuICAgICAgICB0eXBlOiBleGlzdGluZ1ZlaGljbGUudHlwZSB8fCAnVW5rbm93bicsXG4gICAgICAgIHN0eWxlOiBleGlzdGluZ1ZlaGljbGUuc3R5bGUgfHwgJ1Vua25vd24nLFxuICAgICAgICBkb29yUGxhbjogZXhpc3RpbmdWZWhpY2xlLmRvb3IgPyBgJHtleGlzdGluZ1ZlaGljbGUuZG9vcn0gRG9vcnNgIDogJ1Vua25vd24nLFxuICAgICAgICByZWdpc3RyYXRpb246IHJlZ2lzdHJhdGlvbixcbiAgICAgICAgcXVvdGVQcmljZTogcXVvdGVQcmljZSxcbiAgICAgICAgb3RyUHJpY2U6IGV4aXN0aW5nVmVoaWNsZS5vdHJfcHJpY2UgfHwgbnVsbFxuICAgICAgfTtcblxuICAgICAgY29uc29sZS5sb2coJ1JldHVybmluZyBjYWNoZWQgdmVoaWNsZSBkZXRhaWxzOicsIHZlaGljbGVEZXRhaWxzKTtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IFxuICAgICAgICBzdWNjZXNzOiB0cnVlLCBcbiAgICAgICAgdmVoaWNsZURldGFpbHMsXG4gICAgICAgIGZyb21DYWNoZTogdHJ1ZSBcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCdObyBjYWNoZWQgZGF0YSBmb3VuZCwgZmV0Y2hpbmcgZnJvbSBleHRlcm5hbCBBUEkuLi4nKTtcbiAgICBcbiAgICBjb25zdCBhcGlLZXkgPSBwcm9jZXNzLmVudi5VS19WRUhJQ0xFX0RBVEFfQVBJX0tFWTtcbiAgICBcbiAgICBpZiAoIWFwaUtleSkge1xuICAgICAgY29uc29sZS5lcnJvcignVUtfVkVISUNMRV9EQVRBX0FQSV9LRVkgZW52aXJvbm1lbnQgdmFyaWFibGUgaXMgbm90IHNldCcpO1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLCBcbiAgICAgICAgbWVzc2FnZTogJ1ZlaGljbGUgZGF0YSBBUEkga2V5IG5vdCBjb25maWd1cmVkJyBcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEZldGNoIHZlaGljbGUgZGF0YVxuICAgIGNvbnN0IHZlaGljbGVSZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgYGh0dHBzOi8vdWsxLnVrdmVoaWNsZWRhdGEuY28udWsvYXBpL2RhdGFwYWNrYWdlL1ZlaGljbGVEYXRhP3Y9MiZhcGlfbnVsbGl0ZW1zPTEmYXV0aF9hcGlrZXk9JHthcGlLZXl9JmtleV9WUk09JHtyZWdpc3RyYXRpb259YCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuXG4gICAgY29uc3QgdmVoaWNsZURhdGEgPSBhd2FpdCB2ZWhpY2xlUmVzcG9uc2UuanNvbigpO1xuICAgIGNvbnNvbGUubG9nKCdSYXcgVmVoaWNsZSBBUEkgcmVzcG9uc2U6JywgSlNPTi5zdHJpbmdpZnkodmVoaWNsZURhdGEsIG51bGwsIDIpKTtcblxuICAgIC8vIEZldGNoIHZhbHVhdGlvbiBkYXRhXG4gICAgY29uc3QgdmFsdWF0aW9uUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgIGBodHRwczovL3VrMS51a3ZlaGljbGVkYXRhLmNvLnVrL2FwaS9kYXRhcGFja2FnZS9WYWx1YXRpb25EYXRhP3Y9MiZhcGlfbnVsbGl0ZW1zPTEmYXV0aF9hcGlrZXk9JHthcGlLZXl9JmtleV9WUk09JHtyZWdpc3RyYXRpb259YCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuXG4gICAgY29uc3QgdmFsdWF0aW9uRGF0YSA9IGF3YWl0IHZhbHVhdGlvblJlc3BvbnNlLmpzb24oKTtcbiAgICBjb25zb2xlLmxvZygnUmF3IFZhbHVhdGlvbiBBUEkgcmVzcG9uc2U6JywgSlNPTi5zdHJpbmdpZnkodmFsdWF0aW9uRGF0YSwgbnVsbCwgMikpO1xuXG4gICAgaWYgKHZlaGljbGVEYXRhLlJlc3BvbnNlPy5TdGF0dXNDb2RlID09PSBcIlN1Y2Nlc3NcIikge1xuICAgICAgY29uc3QgdmVoaWNsZUluZm8gPSB2ZWhpY2xlRGF0YS5SZXNwb25zZS5EYXRhSXRlbXM7XG4gICAgICBjb25zb2xlLmxvZygnVmVoaWNsZSBJbmZvOicsIHZlaGljbGVJbmZvKTtcblxuICAgICAgLy8gQ2FsY3VsYXRlIHF1b3RlIHByaWNlIGZyb20gdmFsdWF0aW9uIGRhdGFcbiAgICAgIGxldCBxdW90ZVByaWNlID0gNzA7IC8vIERlZmF1bHQgbWluaW11bSBwcmljZVxuICAgICAgXG4gICAgICBpZiAodmFsdWF0aW9uRGF0YS5SZXNwb25zZT8uU3RhdHVzQ29kZSA9PT0gXCJTdWNjZXNzXCIgJiYgdmFsdWF0aW9uRGF0YS5SZXNwb25zZS5EYXRhSXRlbXM/LlZhbHVhdGlvbkRldGFpbHMpIHtcbiAgICAgICAgY29uc3Qgb3RyVmFsdWUgPSB2YWx1YXRpb25EYXRhLlJlc3BvbnNlLkRhdGFJdGVtcy5WYWx1YXRpb25EZXRhaWxzLlBhcnRFeGNoYW5nZTtcbiAgICAgICAgXG4gICAgICAgIGlmIChvdHJWYWx1ZSAmJiAhaXNOYU4ob3RyVmFsdWUpKSB7XG4gICAgICAgICAgLy8gQ2FsY3VsYXRlIDElIG9mIE9UUiAoT24gVGhlIFJvYWQpIHByaWNlIHZhbHVlXG4gICAgICAgICAgY29uc3QgY2FsY3VsYXRlZFByaWNlID0gTWF0aC5yb3VuZChvdHJWYWx1ZSAqIDAuMDEpO1xuICAgICAgICAgIC8vIEVuc3VyZSBtaW5pbXVtIHByaWNlIGlzIMKjNzBcbiAgICAgICAgICBxdW90ZVByaWNlID0gTWF0aC5tYXgoY2FsY3VsYXRlZFByaWNlLCA3MCk7XG4gICAgICAgICAgY29uc29sZS5sb2coYE9UUiBQcmljZTogwqMke290clZhbHVlfSwgQ2FsY3VsYXRlZCBRdW90ZTogwqMke2NhbGN1bGF0ZWRQcmljZX0sIEZpbmFsIFF1b3RlOiDCoyR7cXVvdGVQcmljZX1gKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnT1RSIHByaWNlIG5vdCBhdmFpbGFibGUgb3IgaW52YWxpZCwgdXNpbmcgbWluaW11bSBwcmljZScpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygnVmFsdWF0aW9uIGRhdGEgbm90IGF2YWlsYWJsZSwgdXNpbmcgbWluaW11bSBwcmljZScpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB2ZWhpY2xlRGV0YWlscyA9IHtcbiAgICAgICAgbWFudWZhY3R1cmVyOiB2ZWhpY2xlSW5mby5DbGFzc2lmaWNhdGlvbkRldGFpbHM/LkR2bGE/Lk1ha2UgfHwgJ1Vua25vd24nLFxuICAgICAgICBtb2RlbDogdmVoaWNsZUluZm8uQ2xhc3NpZmljYXRpb25EZXRhaWxzPy5EdmxhPy5Nb2RlbCB8fCAnVW5rbm93bicsXG4gICAgICAgIHllYXI6IHZlaGljbGVJbmZvLlZlaGljbGVSZWdpc3RyYXRpb24/LlllYXJPZk1hbnVmYWN0dXJlIHx8ICdVbmtub3duJyxcbiAgICAgICAgY29sb3VyOiB2ZWhpY2xlSW5mby5WZWhpY2xlUmVnaXN0cmF0aW9uPy5Db2xvdXIgfHwgJ1Vua25vd24nLFxuICAgICAgICB0eXBlOiB2ZWhpY2xlSW5mby5WZWhpY2xlUmVnaXN0cmF0aW9uPy5WZWhpY2xlQ2xhc3MgfHwgJ1Vua25vd24nLFxuICAgICAgICBzdHlsZTogdmVoaWNsZUluZm8uU21tdERldGFpbHM/LkJvZHlTdHlsZSB8fCAnVW5rbm93bicsXG4gICAgICAgIGRvb3JQbGFuOiBgJHt2ZWhpY2xlSW5mby5UZWNobmljYWxEZXRhaWxzPy5EaW1lbnNpb25zPy5OdW1iZXJPZkRvb3JzIHx8ICc/J30gRG9vcnNgLFxuICAgICAgICByZWdpc3RyYXRpb246IHJlZ2lzdHJhdGlvbixcbiAgICAgICAgcXVvdGVQcmljZTogcXVvdGVQcmljZSxcbiAgICAgICAgb3RyUHJpY2U6IHZhbHVhdGlvbkRhdGEuUmVzcG9uc2U/LkRhdGFJdGVtcz8uVmFsdWF0aW9uRGV0YWlscz8uUGFydEV4Y2hhbmdlIHx8IG51bGxcbiAgICAgIH07XG5cbiAgICAgIGNvbnNvbGUubG9nKCdQcm9jZXNzZWQgdmVoaWNsZSBkZXRhaWxzOicsIHZlaGljbGVEZXRhaWxzKTtcbiAgICAgIFxuICAgICAgLy8gU3RvcmUgdGhlIGZldGNoZWQgdmVoaWNsZSBkYXRhIGluIFN1cGFiYXNlIGZvciBmdXR1cmUgdXNlXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB7IGRhdGE6IGluc2VydGVkRGF0YSwgZXJyb3I6IGluc2VydEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgIC5mcm9tKCdNYXN0ZXJDdXN0b21lcicpXG4gICAgICAgICAgLmluc2VydCh7XG4gICAgICAgICAgICB2ZWhpY2xlX3JlZzogcmVnaXN0cmF0aW9uLFxuICAgICAgICAgICAgYnJhbmQ6IHZlaGljbGVEZXRhaWxzLm1hbnVmYWN0dXJlcixcbiAgICAgICAgICAgIG1vZGVsOiB2ZWhpY2xlRGV0YWlscy5tb2RlbCxcbiAgICAgICAgICAgIHllYXI6IHZlaGljbGVEZXRhaWxzLnllYXIsXG4gICAgICAgICAgICBjb2xvdXI6IHZlaGljbGVEZXRhaWxzLmNvbG91cixcbiAgICAgICAgICAgIHR5cGU6IHZlaGljbGVEZXRhaWxzLnR5cGUsXG4gICAgICAgICAgICBzdHlsZTogdmVoaWNsZURldGFpbHMuc3R5bGUsXG4gICAgICAgICAgICBkb29yOiB2ZWhpY2xlRGV0YWlscy5kb29yUGxhbi5zcGxpdCgnICcpWzBdLFxuICAgICAgICAgICAgb3RyX3ByaWNlOiB2ZWhpY2xlRGV0YWlscy5vdHJQcmljZSxcbiAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgICAgLnNpbmdsZSgpO1xuXG4gICAgICAgIGlmIChpbnNlcnRFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdOb3RlOiBDb3VsZCBub3QgY2FjaGUgdmVoaWNsZSBkYXRhIChwb3NzaWJseSBkdXBsaWNhdGUpOicsIGluc2VydEVycm9yLm1lc3NhZ2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdTdWNjZXNzZnVsbHkgY2FjaGVkIHZlaGljbGUgZGF0YSBmb3IgZnV0dXJlIHVzZScpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChjYWNoZUVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdOb3RlOiBFcnJvciBjYWNoaW5nIHZlaGljbGUgZGF0YTonLCBjYWNoZUVycm9yKTtcbiAgICAgICAgLy8gQ29udGludWUgZXhlY3V0aW9uIGV2ZW4gaWYgY2FjaGluZyBmYWlsc1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IFxuICAgICAgICBzdWNjZXNzOiB0cnVlLCBcbiAgICAgICAgdmVoaWNsZURldGFpbHMsXG4gICAgICAgIGZyb21DYWNoZTogZmFsc2UgXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coJ0FQSSByZXR1cm5lZCBub24tc3VjY2VzcyBzdGF0dXM6JywgdmVoaWNsZURhdGEuUmVzcG9uc2U/LlN0YXR1c01lc3NhZ2UpO1xuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBcbiAgICAgICAgc3VjY2VzczogdHJ1ZSwgXG4gICAgICAgIHZlaGljbGVEZXRhaWxzOiB7XG4gICAgICAgICAgbWFudWZhY3R1cmVyOiAnVW5rbm93bicsXG4gICAgICAgICAgbW9kZWw6ICdVbmtub3duJyxcbiAgICAgICAgICB5ZWFyOiAnVW5rbm93bicsXG4gICAgICAgICAgY29sb3VyOiAnVW5rbm93bicsXG4gICAgICAgICAgdHlwZTogJ1Vua25vd24nLFxuICAgICAgICAgIHN0eWxlOiAnVW5rbm93bicsXG4gICAgICAgICAgZG9vclBsYW46ICdVbmtub3duJyxcbiAgICAgICAgICByZWdpc3RyYXRpb246IHJlZ2lzdHJhdGlvbixcbiAgICAgICAgICBxdW90ZVByaWNlOiA3MCxcbiAgICAgICAgICBvdHJQcmljZTogbnVsbFxuICAgICAgICB9LFxuICAgICAgICBmcm9tQ2FjaGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gdmVoaWNsZSBsb29rdXA6JywgZXJyb3IpO1xuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgXG4gICAgICBzdWNjZXNzOiB0cnVlLCBcbiAgICAgIHZlaGljbGVEZXRhaWxzOiB7XG4gICAgICAgIG1hbnVmYWN0dXJlcjogJ1Vua25vd24nLFxuICAgICAgICBtb2RlbDogJ1Vua25vd24nLFxuICAgICAgICB5ZWFyOiAnVW5rbm93bicsXG4gICAgICAgIGNvbG91cjogJ1Vua25vd24nLFxuICAgICAgICB0eXBlOiAnVW5rbm93bicsXG4gICAgICAgIHN0eWxlOiAnVW5rbm93bicsXG4gICAgICAgIGRvb3JQbGFuOiAnVW5rbm93bicsXG4gICAgICAgIHJlZ2lzdHJhdGlvbjogcmVnaXN0cmF0aW9uLFxuICAgICAgICBxdW90ZVByaWNlOiA3MCxcbiAgICAgICAgb3RyUHJpY2U6IG51bGxcbiAgICAgIH0sXG4gICAgICBmcm9tQ2FjaGU6IGZhbHNlXG4gICAgfSk7XG4gIH1cbn0gIl0sIm5hbWVzIjpbInN1cGFiYXNlIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwicmVnaXN0cmF0aW9uIiwiYm9keSIsImNvbnNvbGUiLCJsb2ciLCJkYXRhIiwiZXhpc3RpbmdWZWhpY2xlIiwiZXJyb3IiLCJkYkVycm9yIiwiZnJvbSIsInNlbGVjdCIsImVxIiwibm90Iiwib3JkZXIiLCJhc2NlbmRpbmciLCJsaW1pdCIsInNpbmdsZSIsInF1b3RlUHJpY2UiLCJvdHJfcHJpY2UiLCJpc05hTiIsImNhbGN1bGF0ZWRQcmljZSIsIk1hdGgiLCJyb3VuZCIsIm1heCIsInZlaGljbGVEZXRhaWxzIiwibWFudWZhY3R1cmVyIiwiYnJhbmQiLCJtb2RlbCIsInllYXIiLCJjb2xvdXIiLCJ0eXBlIiwic3R5bGUiLCJkb29yUGxhbiIsImRvb3IiLCJvdHJQcmljZSIsInN1Y2Nlc3MiLCJmcm9tQ2FjaGUiLCJhcGlLZXkiLCJwcm9jZXNzIiwiZW52IiwiVUtfVkVISUNMRV9EQVRBX0FQSV9LRVkiLCJ2ZWhpY2xlUmVzcG9uc2UiLCJmZXRjaCIsImhlYWRlcnMiLCJ2ZWhpY2xlRGF0YSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ2YWx1YXRpb25SZXNwb25zZSIsInZhbHVhdGlvbkRhdGEiLCJSZXNwb25zZSIsIlN0YXR1c0NvZGUiLCJ2ZWhpY2xlSW5mbyIsIkRhdGFJdGVtcyIsIlZhbHVhdGlvbkRldGFpbHMiLCJvdHJWYWx1ZSIsIlBhcnRFeGNoYW5nZSIsIkNsYXNzaWZpY2F0aW9uRGV0YWlscyIsIkR2bGEiLCJNYWtlIiwiTW9kZWwiLCJWZWhpY2xlUmVnaXN0cmF0aW9uIiwiWWVhck9mTWFudWZhY3R1cmUiLCJDb2xvdXIiLCJWZWhpY2xlQ2xhc3MiLCJTbW10RGV0YWlscyIsIkJvZHlTdHlsZSIsIlRlY2huaWNhbERldGFpbHMiLCJEaW1lbnNpb25zIiwiTnVtYmVyT2ZEb29ycyIsImluc2VydGVkRGF0YSIsImluc2VydEVycm9yIiwiaW5zZXJ0IiwidmVoaWNsZV9yZWciLCJzcGxpdCIsImNyZWF0ZWRfYXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJ1cGRhdGVkX2F0IiwiY2FjaGVFcnJvciIsIlN0YXR1c01lc3NhZ2UiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/vehicle-lookup.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fvehicle-lookup&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fvehicle-lookup.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();