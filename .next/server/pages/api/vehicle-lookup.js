"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/vehicle-lookup";
exports.ids = ["pages/api/vehicle-lookup"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fvehicle-lookup&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fvehicle-lookup.ts&middlewareConfigBase64=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fvehicle-lookup&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fvehicle-lookup.ts&middlewareConfigBase64=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_vehicle_lookup_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/vehicle-lookup.ts */ \"(api)/./pages/api/vehicle-lookup.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_vehicle_lookup_ts__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_vehicle_lookup_ts__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/vehicle-lookup\",\n        pathname: \"/api/vehicle-lookup\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_vehicle_lookup_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnZlaGljbGUtbG9va3VwJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlMkZhcGklMkZ2ZWhpY2xlLWxvb2t1cC50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDRTtBQUMxRDtBQUMwRDtBQUMxRDtBQUNBLGlFQUFlLHdFQUFLLENBQUMseURBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLHlEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLHlHQUFtQjtBQUNsRDtBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvYXBpL3ZlaGljbGUtbG9va3VwLnRzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsICdkZWZhdWx0Jyk7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCAnY29uZmlnJyk7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS92ZWhpY2xlLWxvb2t1cFwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3ZlaGljbGUtbG9va3VwXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogJycsXG4gICAgICAgIGZpbGVuYW1lOiAnJ1xuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fvehicle-lookup&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fvehicle-lookup.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/vehicle-lookup.ts":
/*!*************************************!*\
  !*** ./pages/api/vehicle-lookup.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\nasync function handler(req, res) {\n    if (req.method !== 'POST') {\n        return res.status(405).json({\n            message: 'Method not allowed'\n        });\n    }\n    const { registration } = req.body;\n    try {\n        const apiKey = process.env.UK_VEHICLE_DATA_API_KEY;\n        if (!apiKey) {\n            console.error('UK_VEHICLE_DATA_API_KEY environment variable is not set');\n            return res.status(500).json({\n                success: false,\n                message: 'Vehicle data API key not configured'\n            });\n        }\n        // Fetch vehicle data\n        const vehicleResponse = await fetch(`https://uk1.ukvehicledata.co.uk/api/datapackage/VehicleData?v=2&api_nullitems=1&auth_apikey=${apiKey}&key_VRM=${registration}`, {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n        const vehicleData = await vehicleResponse.json();\n        console.log('Raw Vehicle API response:', JSON.stringify(vehicleData, null, 2));\n        // Fetch valuation data\n        const valuationResponse = await fetch(`https://uk1.ukvehicledata.co.uk/api/datapackage/ValuationData?v=2&api_nullitems=1&auth_apikey=${apiKey}&key_VRM=${registration}`, {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n        const valuationData = await valuationResponse.json();\n        console.log('Raw Valuation API response:', JSON.stringify(valuationData, null, 2));\n        if (vehicleData.Response?.StatusCode === \"Success\") {\n            const vehicleInfo = vehicleData.Response.DataItems;\n            console.log('Vehicle Info:', vehicleInfo);\n            // Calculate quote price from valuation data\n            let quotePrice = 70; // Default minimum price\n            if (valuationData.Response?.StatusCode === \"Success\" && valuationData.Response.DataItems?.ValuationDetails) {\n                const otrValue = valuationData.Response.DataItems.ValuationDetails.PartExchange;\n                if (otrValue && !isNaN(otrValue)) {\n                    // Calculate 1% of OTR (On The Road) price value\n                    const calculatedPrice = Math.round(otrValue * 0.01);\n                    // Ensure minimum price is £70\n                    quotePrice = Math.max(calculatedPrice, 70);\n                    console.log(`OTR Price: £${otrValue}, Calculated Quote: £${calculatedPrice}, Final Quote: £${quotePrice}`);\n                } else {\n                    console.log('OTR price not available or invalid, using minimum price');\n                }\n            } else {\n                console.log('Valuation data not available, using minimum price');\n            }\n            const vehicleDetails = {\n                manufacturer: vehicleInfo.ClassificationDetails?.Dvla?.Make || 'Unknown',\n                model: vehicleInfo.ClassificationDetails?.Dvla?.Model || 'Unknown',\n                year: vehicleInfo.VehicleRegistration?.YearOfManufacture || 'Unknown',\n                colour: vehicleInfo.VehicleRegistration?.Colour || 'Unknown',\n                type: vehicleInfo.VehicleRegistration?.VehicleClass || 'Unknown',\n                style: vehicleInfo.SmmtDetails?.BodyStyle || 'Unknown',\n                doorPlan: `${vehicleInfo.TechnicalDetails?.Dimensions?.NumberOfDoors || '?'} Doors`,\n                registration: registration,\n                quotePrice: quotePrice,\n                otrPrice: valuationData.Response?.DataItems?.ValuationDetails?.PartExchange || null\n            };\n            console.log('Processed vehicle details:', vehicleDetails);\n            res.status(200).json({\n                success: true,\n                vehicleDetails\n            });\n        } else {\n            console.log('API returned non-success status:', vehicleData.Response?.StatusMessage);\n            res.status(200).json({\n                success: true,\n                vehicleDetails: {\n                    manufacturer: 'Unknown',\n                    model: 'Unknown',\n                    year: 'Unknown',\n                    colour: 'Unknown',\n                    type: 'Unknown',\n                    style: 'Unknown',\n                    doorPlan: 'Unknown',\n                    registration: registration,\n                    quotePrice: 70,\n                    otrPrice: null\n                }\n            });\n        }\n    } catch (error) {\n        console.error('Error in vehicle lookup:', error);\n        res.status(200).json({\n            success: true,\n            vehicleDetails: {\n                manufacturer: 'Unknown',\n                model: 'Unknown',\n                year: 'Unknown',\n                colour: 'Unknown',\n                type: 'Unknown',\n                style: 'Unknown',\n                doorPlan: 'Unknown',\n                registration: registration,\n                quotePrice: 70,\n                otrPrice: null\n            }\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aUJBQWlCLElBQUksTUFBTSxDQUFDO2dCQUNuRm5ELGNBQWNBO2dCQUNkc0IsWUFBWUE7Z0JBQ1o4QixVQUFVbkMsY0FBY0MsUUFBUSxFQUFFRyxXQUFXRSxrQkFBa0JFLGdCQUFnQjtZQUNqRjtZQUVBbkIsUUFBUU8sR0FBRyxDQUFDLDhCQUE4QmtCO1lBQzFDcEMsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFBRVUsU0FBUztnQkFBTXVCO1lBQWU7UUFDdkQsT0FBTztZQUNMekIsUUFBUU8sR0FBRyxDQUFDLG9DQUFvQ0QsWUFBWU0sUUFBUSxFQUFFbUM7WUFDdEUxRCxJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUNuQlUsU0FBUztnQkFDVHVCLGdCQUFnQjtvQkFDZEMsY0FBYztvQkFDZEksT0FBTztvQkFDUEUsTUFBTTtvQkFDTkcsUUFBUTtvQkFDUkUsTUFBTTtvQkFDTkUsT0FBTztvQkFDUEcsVUFBVTtvQkFDVmhELGNBQWNBO29CQUNkc0IsWUFBWTtvQkFDWjhCLFVBQVU7Z0JBQ1o7WUFDRjtRQUNGO0lBQ0YsRUFBRSxPQUFPN0MsT0FBTztRQUNkRCxRQUFRQyxLQUFLLENBQUMsNEJBQTRCQTtRQUMxQ1osSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUNuQlUsU0FBUztZQUNUdUIsZ0JBQWdCO2dCQUNkQyxjQUFjO2dCQUNkSSxPQUFPO2dCQUNQRSxNQUFNO2dCQUNORyxRQUFRO2dCQUNSRSxNQUFNO2dCQUNORSxPQUFPO2dCQUNQRyxVQUFVO2dCQUNWaEQsY0FBY0E7Z0JBQ2RzQixZQUFZO2dCQUNaOEIsVUFBVTtZQUNaO1FBQ0Y7SUFDRjtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvbXVoYW1tYWRhbGkvRGVza3RvcC9XaW5kc2NyZWVuQ29tcGFyZS9HSVRIVUJyZXBvL1dJTkN1c3RvbWVyL3BhZ2VzL2FwaS92ZWhpY2xlLWxvb2t1cC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tICduZXh0JztcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXE6IE5leHRBcGlSZXF1ZXN0LCByZXM6IE5leHRBcGlSZXNwb25zZSkge1xuICBpZiAocmVxLm1ldGhvZCAhPT0gJ1BPU1QnKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgbWVzc2FnZTogJ01ldGhvZCBub3QgYWxsb3dlZCcgfSk7XG4gIH1cblxuICBjb25zdCB7IHJlZ2lzdHJhdGlvbiB9ID0gcmVxLmJvZHk7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBhcGlLZXkgPSBwcm9jZXNzLmVudi5VS19WRUhJQ0xFX0RBVEFfQVBJX0tFWTtcbiAgICBcbiAgICBpZiAoIWFwaUtleSkge1xuICAgICAgY29uc29sZS5lcnJvcignVUtfVkVISUNMRV9EQVRBX0FQSV9LRVkgZW52aXJvbm1lbnQgdmFyaWFibGUgaXMgbm90IHNldCcpO1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLCBcbiAgICAgICAgbWVzc2FnZTogJ1ZlaGljbGUgZGF0YSBBUEkga2V5IG5vdCBjb25maWd1cmVkJyBcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEZldGNoIHZlaGljbGUgZGF0YVxuICAgIGNvbnN0IHZlaGljbGVSZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgYGh0dHBzOi8vdWsxLnVrdmVoaWNsZWRhdGEuY28udWsvYXBpL2RhdGFwYWNrYWdlL1ZlaGljbGVEYXRhP3Y9MiZhcGlfbnVsbGl0ZW1zPTEmYXV0aF9hcGlrZXk9JHthcGlLZXl9JmtleV9WUk09JHtyZWdpc3RyYXRpb259YCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuXG4gICAgY29uc3QgdmVoaWNsZURhdGEgPSBhd2FpdCB2ZWhpY2xlUmVzcG9uc2UuanNvbigpO1xuICAgIGNvbnNvbGUubG9nKCdSYXcgVmVoaWNsZSBBUEkgcmVzcG9uc2U6JywgSlNPTi5zdHJpbmdpZnkodmVoaWNsZURhdGEsIG51bGwsIDIpKTtcblxuICAgIC8vIEZldGNoIHZhbHVhdGlvbiBkYXRhXG4gICAgY29uc3QgdmFsdWF0aW9uUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgIGBodHRwczovL3VrMS51a3ZlaGljbGVkYXRhLmNvLnVrL2FwaS9kYXRhcGFja2FnZS9WYWx1YXRpb25EYXRhP3Y9MiZhcGlfbnVsbGl0ZW1zPTEmYXV0aF9hcGlrZXk9JHthcGlLZXl9JmtleV9WUk09JHtyZWdpc3RyYXRpb259YCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuXG4gICAgY29uc3QgdmFsdWF0aW9uRGF0YSA9IGF3YWl0IHZhbHVhdGlvblJlc3BvbnNlLmpzb24oKTtcbiAgICBjb25zb2xlLmxvZygnUmF3IFZhbHVhdGlvbiBBUEkgcmVzcG9uc2U6JywgSlNPTi5zdHJpbmdpZnkodmFsdWF0aW9uRGF0YSwgbnVsbCwgMikpO1xuXG4gICAgaWYgKHZlaGljbGVEYXRhLlJlc3BvbnNlPy5TdGF0dXNDb2RlID09PSBcIlN1Y2Nlc3NcIikge1xuICAgICAgY29uc3QgdmVoaWNsZUluZm8gPSB2ZWhpY2xlRGF0YS5SZXNwb25zZS5EYXRhSXRlbXM7XG4gICAgICBjb25zb2xlLmxvZygnVmVoaWNsZSBJbmZvOicsIHZlaGljbGVJbmZvKTtcblxuICAgICAgLy8gQ2FsY3VsYXRlIHF1b3RlIHByaWNlIGZyb20gdmFsdWF0aW9uIGRhdGFcbiAgICAgIGxldCBxdW90ZVByaWNlID0gNzA7IC8vIERlZmF1bHQgbWluaW11bSBwcmljZVxuICAgICAgXG4gICAgICBpZiAodmFsdWF0aW9uRGF0YS5SZXNwb25zZT8uU3RhdHVzQ29kZSA9PT0gXCJTdWNjZXNzXCIgJiYgdmFsdWF0aW9uRGF0YS5SZXNwb25zZS5EYXRhSXRlbXM/LlZhbHVhdGlvbkRldGFpbHMpIHtcbiAgICAgICAgY29uc3Qgb3RyVmFsdWUgPSB2YWx1YXRpb25EYXRhLlJlc3BvbnNlLkRhdGFJdGVtcy5WYWx1YXRpb25EZXRhaWxzLlBhcnRFeGNoYW5nZTtcbiAgICAgICAgXG4gICAgICAgIGlmIChvdHJWYWx1ZSAmJiAhaXNOYU4ob3RyVmFsdWUpKSB7XG4gICAgICAgICAgLy8gQ2FsY3VsYXRlIDElIG9mIE9UUiAoT24gVGhlIFJvYWQpIHByaWNlIHZhbHVlXG4gICAgICAgICAgY29uc3QgY2FsY3VsYXRlZFByaWNlID0gTWF0aC5yb3VuZChvdHJWYWx1ZSAqIDAuMDEpO1xuICAgICAgICAgIC8vIEVuc3VyZSBtaW5pbXVtIHByaWNlIGlzIMKjNzBcbiAgICAgICAgICBxdW90ZVByaWNlID0gTWF0aC5tYXgoY2FsY3VsYXRlZFByaWNlLCA3MCk7XG4gICAgICAgICAgY29uc29sZS5sb2coYE9UUiBQcmljZTogwqMke290clZhbHVlfSwgQ2FsY3VsYXRlZCBRdW90ZTogwqMke2NhbGN1bGF0ZWRQcmljZX0sIEZpbmFsIFF1b3RlOiDCoyR7cXVvdGVQcmljZX1gKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnT1RSIHByaWNlIG5vdCBhdmFpbGFibGUgb3IgaW52YWxpZCwgdXNpbmcgbWluaW11bSBwcmljZScpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygnVmFsdWF0aW9uIGRhdGEgbm90IGF2YWlsYWJsZSwgdXNpbmcgbWluaW11bSBwcmljZScpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB2ZWhpY2xlRGV0YWlscyA9IHtcbiAgICAgICAgbWFudWZhY3R1cmVyOiB2ZWhpY2xlSW5mby5DbGFzc2lmaWNhdGlvbkRldGFpbHM/LkR2bGE/Lk1ha2UgfHwgJ1Vua25vd24nLFxuICAgICAgICBtb2RlbDogdmVoaWNsZUluZm8uQ2xhc3NpZmljYXRpb25EZXRhaWxzPy5EdmxhPy5Nb2RlbCB8fCAnVW5rbm93bicsXG4gICAgICAgIHllYXI6IHZlaGljbGVJbmZvLlZlaGljbGVSZWdpc3RyYXRpb24/LlllYXJPZk1hbnVmYWN0dXJlIHx8ICdVbmtub3duJyxcbiAgICAgICAgY29sb3VyOiB2ZWhpY2xlSW5mby5WZWhpY2xlUmVnaXN0cmF0aW9uPy5Db2xvdXIgfHwgJ1Vua25vd24nLFxuICAgICAgICB0eXBlOiB2ZWhpY2xlSW5mby5WZWhpY2xlUmVnaXN0cmF0aW9uPy5WZWhpY2xlQ2xhc3MgfHwgJ1Vua25vd24nLFxuICAgICAgICBzdHlsZTogdmVoaWNsZUluZm8uU21tdERldGFpbHM/LkJvZHlTdHlsZSB8fCAnVW5rbm93bicsXG4gICAgICAgIGRvb3JQbGFuOiBgJHt2ZWhpY2xlSW5mby5UZWNobmljYWxEZXRhaWxzPy5EaW1lbnNpb25zPy5OdW1iZXJPZkRvb3JzIHx8ICc/J30gRG9vcnNgLFxuICAgICAgICByZWdpc3RyYXRpb246IHJlZ2lzdHJhdGlvbixcbiAgICAgICAgcXVvdGVQcmljZTogcXVvdGVQcmljZSxcbiAgICAgICAgb3RyUHJpY2U6IHZhbHVhdGlvbkRhdGEuUmVzcG9uc2U/LkRhdGFJdGVtcz8uVmFsdWF0aW9uRGV0YWlscz8uUGFydEV4Y2hhbmdlIHx8IG51bGxcbiAgICAgIH07XG5cbiAgICAgIGNvbnNvbGUubG9nKCdQcm9jZXNzZWQgdmVoaWNsZSBkZXRhaWxzOicsIHZlaGljbGVEZXRhaWxzKTtcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgc3VjY2VzczogdHJ1ZSwgdmVoaWNsZURldGFpbHMgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKCdBUEkgcmV0dXJuZWQgbm9uLXN1Y2Nlc3Mgc3RhdHVzOicsIHZlaGljbGVEYXRhLlJlc3BvbnNlPy5TdGF0dXNNZXNzYWdlKTtcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsIFxuICAgICAgICB2ZWhpY2xlRGV0YWlsczoge1xuICAgICAgICAgIG1hbnVmYWN0dXJlcjogJ1Vua25vd24nLFxuICAgICAgICAgIG1vZGVsOiAnVW5rbm93bicsXG4gICAgICAgICAgeWVhcjogJ1Vua25vd24nLFxuICAgICAgICAgIGNvbG91cjogJ1Vua25vd24nLFxuICAgICAgICAgIHR5cGU6ICdVbmtub3duJyxcbiAgICAgICAgICBzdHlsZTogJ1Vua25vd24nLFxuICAgICAgICAgIGRvb3JQbGFuOiAnVW5rbm93bicsXG4gICAgICAgICAgcmVnaXN0cmF0aW9uOiByZWdpc3RyYXRpb24sXG4gICAgICAgICAgcXVvdGVQcmljZTogNzAsXG4gICAgICAgICAgb3RyUHJpY2U6IG51bGxcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIHZlaGljbGUgbG9va3VwOicsIGVycm9yKTtcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IFxuICAgICAgc3VjY2VzczogdHJ1ZSwgXG4gICAgICB2ZWhpY2xlRGV0YWlsczoge1xuICAgICAgICBtYW51ZmFjdHVyZXI6ICdVbmtub3duJyxcbiAgICAgICAgbW9kZWw6ICdVbmtub3duJyxcbiAgICAgICAgeWVhcjogJ1Vua25vd24nLFxuICAgICAgICBjb2xvdXI6ICdVbmtub3duJyxcbiAgICAgICAgdHlwZTogJ1Vua25vd24nLFxuICAgICAgICBzdHlsZTogJ1Vua25vd24nLFxuICAgICAgICBkb29yUGxhbjogJ1Vua25vd24nLFxuICAgICAgICByZWdpc3RyYXRpb246IHJlZ2lzdHJhdGlvbixcbiAgICAgICAgcXVvdGVQcmljZTogNzAsXG4gICAgICAgIG90clByaWNlOiBudWxsXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0gIl0sIm5hbWVzIjpbImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsInJlZ2lzdHJhdGlvbiIsImJvZHkiLCJhcGlLZXkiLCJwcm9jZXNzIiwiZW52IiwiVUtfVkVISUNMRV9EQVRBX0FQSV9LRVkiLCJjb25zb2xlIiwiZXJyb3IiLCJzdWNjZXNzIiwidmVoaWNsZVJlc3BvbnNlIiwiZmV0Y2giLCJoZWFkZXJzIiwidmVoaWNsZURhdGEiLCJsb2ciLCJKU09OIiwic3RyaW5naWZ5IiwidmFsdWF0aW9uUmVzcG9uc2UiLCJ2YWx1YXRpb25EYXRhIiwiUmVzcG9uc2UiLCJTdGF0dXNDb2RlIiwidmVoaWNsZUluZm8iLCJEYXRhSXRlbXMiLCJxdW90ZVByaWNlIiwiVmFsdWF0aW9uRGV0YWlscyIsIm90clZhbHVlIiwiUGFydEV4Y2hhbmdlIiwiaXNOYU4iLCJjYWxjdWxhdGVkUHJpY2UiLCJNYXRoIiwicm91bmQiLCJtYXgiLCJ2ZWhpY2xlRGV0YWlscyIsIm1hbnVmYWN0dXJlciIsIkNsYXNzaWZpY2F0aW9uRGV0YWlscyIsIkR2bGEiLCJNYWtlIiwibW9kZWwiLCJNb2RlbCIsInllYXIiLCJWZWhpY2xlUmVnaXN0cmF0aW9uIiwiWWVhck9mTWFudWZhY3R1cmUiLCJjb2xvdXIiLCJDb2xvdXIiLCJ0eXBlIiwiVmVoaWNsZUNsYXNzIiwic3R5bGUiLCJTbW10RGV0YWlscyIsIkJvZHlTdHlsZSIsImRvb3JQbGFuIiwiVGVjaG5pY2FsRGV0YWlscyIsIkRpbWVuc2lvbnMiLCJOdW1iZXJPZkRvb3JzIiwib3RyUHJpY2UiLCJTdGF0dXNNZXNzYWdlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/vehicle-lookup.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fvehicle-lookup&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fvehicle-lookup.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();