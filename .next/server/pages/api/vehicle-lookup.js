"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/vehicle-lookup";
exports.ids = ["pages/api/vehicle-lookup"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fvehicle-lookup&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fvehicle-lookup.ts&middlewareConfigBase64=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fvehicle-lookup&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fvehicle-lookup.ts&middlewareConfigBase64=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_vehicle_lookup_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/vehicle-lookup.ts */ \"(api)/./pages/api/vehicle-lookup.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_vehicle_lookup_ts__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_vehicle_lookup_ts__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/vehicle-lookup\",\n        pathname: \"/api/vehicle-lookup\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_vehicle_lookup_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnZlaGljbGUtbG9va3VwJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlMkZhcGklMkZ2ZWhpY2xlLWxvb2t1cC50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDRTtBQUMxRDtBQUMwRDtBQUMxRDtBQUNBLGlFQUFlLHdFQUFLLENBQUMseURBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLHlEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLHlHQUFtQjtBQUNsRDtBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvYXBpL3ZlaGljbGUtbG9va3VwLnRzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsICdkZWZhdWx0Jyk7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCAnY29uZmlnJyk7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS92ZWhpY2xlLWxvb2t1cFwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3ZlaGljbGUtbG9va3VwXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogJycsXG4gICAgICAgIGZpbGVuYW1lOiAnJ1xuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fvehicle-lookup&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fvehicle-lookup.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/vehicle-lookup.ts":
/*!*************************************!*\
  !*** ./pages/api/vehicle-lookup.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\nasync function handler(req, res) {\n    if (req.method !== 'POST') {\n        return res.status(405).json({\n            message: 'Method not allowed'\n        });\n    }\n    const { registration } = req.body;\n    try {\n        const apiKey = process.env.UK_VEHICLE_DATA_API_KEY;\n        if (!apiKey) {\n            console.error('UK_VEHICLE_DATA_API_KEY environment variable is not set');\n            return res.status(500).json({\n                success: false,\n                message: 'Vehicle data API key not configured'\n            });\n        }\n        // Fetch vehicle data\n        const vehicleResponse = await fetch(`https://uk1.ukvehicledata.co.uk/api/datapackage/VehicleData?v=2&api_nullitems=1&auth_apikey=${apiKey}&key_VRM=${registration}`, {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n        const vehicleData = await vehicleResponse.json();\n        console.log('Raw Vehicle API response:', JSON.stringify(vehicleData, null, 2));\n        // Fetch valuation data\n        const valuationResponse = await fetch(`https://uk1.ukvehicledata.co.uk/api/datapackage/ValuationData?v=2&api_nullitems=1&auth_apikey=${apiKey}&key_VRM=${registration}`, {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n        const valuationData = await valuationResponse.json();\n        console.log('Raw Valuation API response:', JSON.stringify(valuationData, null, 2));\n        if (vehicleData.Response?.StatusCode === \"Success\") {\n            const vehicleInfo = vehicleData.Response.DataItems;\n            console.log('Vehicle Info:', vehicleInfo);\n            // Calculate quote price from valuation data\n            let quotePrice = 70; // Default minimum price\n            if (valuationData.Response?.StatusCode === \"Success\" && valuationData.Response.DataItems?.ValuationDetails) {\n                const otrValue = valuationData.Response.DataItems.ValuationDetails.PartExchange;\n                if (otrValue && !isNaN(otrValue)) {\n                    // Calculate 1% of OTR (On The Road) price value\n                    const calculatedPrice = Math.round(otrValue * 0.01);\n                    // Ensure minimum price is £70\n                    quotePrice = Math.max(calculatedPrice, 70);\n                    console.log(`OTR Price: £${otrValue}, Calculated Quote: £${calculatedPrice}, Final Quote: £${quotePrice}`);\n                } else {\n                    console.log('OTR price not available or invalid, using minimum price');\n                }\n            } else {\n                console.log('Valuation data not available, using minimum price');\n            }\n            const vehicleDetails = {\n                manufacturer: vehicleInfo.ClassificationDetails?.Dvla?.Make || 'Unknown',\n                model: vehicleInfo.ClassificationDetails?.Dvla?.Model || 'Unknown',\n                year: vehicleInfo.VehicleRegistration?.YearOfManufacture || 'Unknown',\n                colour: vehicleInfo.VehicleRegistration?.Colour || 'Unknown',\n                type: vehicleInfo.VehicleRegistration?.VehicleClass || 'Unknown',\n                style: vehicleInfo.SmmtDetails?.BodyStyle || 'Unknown',\n                doorPlan: `${vehicleInfo.TechnicalDetails?.Dimensions?.NumberOfDoors || '?'} Doors`,\n                registration: registration,\n                quotePrice: quotePrice,\n                otrPrice: valuationData.Response?.DataItems?.ValuationDetails?.PartExchange || null\n            };\n            console.log('Processed vehicle details:', vehicleDetails);\n            res.status(200).json({\n                success: true,\n                vehicleDetails\n            });\n        } else {\n            console.log('API returned non-success status:', vehicleData.Response?.StatusMessage);\n            res.status(200).json({\n                success: true,\n                vehicleDetails: {\n                    manufacturer: 'Unknown',\n                    model: 'Unknown',\n                    year: 'Unknown',\n                    colour: 'Unknown',\n                    type: 'Unknown',\n                    style: 'Unknown',\n                    doorPlan: 'Unknown',\n                    registration: registration,\n                    quotePrice: 70,\n                    otrPrice: null\n                }\n            });\n        }\n    } catch (error) {\n        console.error('Error in vehicle lookup:', error);\n        res.status(200).json({\n            success: true,\n            vehicleDetails: {\n                manufacturer: 'Unknown',\n                model: 'Unknown',\n                year: 'Unknown',\n                colour: 'Unknown',\n                type: 'Unknown',\n                style: 'Unknown',\n                doorPlan: 'Unknown',\n                registration: registration,\n                quotePrice: 70,\n                otrPrice: null\n            }\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvdmVoaWNsZS1sb29rdXAudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUVlLGVBQWVBLFFBQVFDLEdBQW1CLEVBQUVDLEdBQW9CO0lBQzdFLElBQUlELElBQUlFLE1BQU0sS0FBSyxRQUFRO1FBQ3pCLE9BQU9ELElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsU0FBUztRQUFxQjtJQUM5RDtJQUVBLE1BQU0sRUFBRUMsWUFBWSxFQUFFLEdBQUdOLElBQUlPLElBQUk7SUFFakMsSUFBSTtRQUNGLE1BQU1DLFNBQVNDLFFBQVFDLEdBQUcsQ0FBQ0MsdUJBQXVCO1FBRWxELElBQUksQ0FBQ0gsUUFBUTtZQUNYSSxRQUFRQyxLQUFLLENBQUM7WUFDZCxPQUFPWixJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUMxQlUsU0FBUztnQkFDVFQsU0FBUztZQUNYO1FBQ0Y7UUFFQSxxQkFBcUI7UUFDckIsTUFBTVUsa0JBQWtCLE1BQU1DLE1BQzVCLENBQUMsNEZBQTRGLEVBQUVSLE9BQU8sU0FBUyxFQUFFRixjQUFjLEVBQy9IO1lBQ0VKLFFBQVE7WUFDUmUsU0FBUztnQkFDUCxnQkFBZ0I7WUFDbEI7UUFDRjtRQUdGLE1BQU1DLGNBQWMsTUFBTUgsZ0JBQWdCWCxJQUFJO1FBQzlDUSxRQUFRTyxHQUFHLENBQUMsNkJBQTZCQyxLQUFLQyxTQUFTLENBQUNILGFBQWEsTUFBTTtRQUUzRSx1QkFBdUI7UUFDdkIsTUFBTUksb0JBQW9CLE1BQU1OLE1BQzlCLENBQUMsOEZBQThGLEVBQUVSLE9BQU8sU0FBUyxFQUFFRixjQUFjLEVBQ2pJO1lBQ0VKLFFBQVE7WUFDUmUsU0FBUztnQkFDUCxnQkFBZ0I7WUFDbEI7UUFDRjtRQUdGLE1BQU1NLGdCQUFnQixNQUFNRCxrQkFBa0JsQixJQUFJO1FBQ2xEUSxRQUFRTyxHQUFHLENBQUMsK0JBQStCQyxLQUFLQyxTQUFTLENBQUNFLGVBQWUsTUFBTTtRQUUvRSxJQUFJTCxZQUFZTSxRQUFRLEVBQUVDLGVBQWUsV0FBVztZQUNsRCxNQUFNQyxjQUFjUixZQUFZTSxRQUFRLENBQUNHLFNBQVM7WUFDbERmLFFBQVFPLEdBQUcsQ0FBQyxpQkFBaUJPO1lBRTdCLDRDQUE0QztZQUM1QyxJQUFJRSxhQUFhLElBQUksd0JBQXdCO1lBRTdDLElBQUlMLGNBQWNDLFFBQVEsRUFBRUMsZUFBZSxhQUFhRixjQUFjQyxRQUFRLENBQUNHLFNBQVMsRUFBRUUsa0JBQWtCO2dCQUMxRyxNQUFNQyxXQUFXUCxjQUFjQyxRQUFRLENBQUNHLFNBQVMsQ0FBQ0UsZ0JBQWdCLENBQUNFLFlBQVk7Z0JBRS9FLElBQUlELFlBQVksQ0FBQ0UsTUFBTUYsV0FBVztvQkFDaEMsZ0RBQWdEO29CQUNoRCxNQUFNRyxrQkFBa0JDLEtBQUtDLEtBQUssQ0FBQ0wsV0FBVztvQkFDOUMsOEJBQThCO29CQUM5QkYsYUFBYU0sS0FBS0UsR0FBRyxDQUFDSCxpQkFBaUI7b0JBQ3ZDckIsUUFBUU8sR0FBRyxDQUFDLENBQUMsWUFBWSxFQUFFVyxTQUFTLHFCQUFxQixFQUFFRyxnQkFBZ0IsZ0JBQWdCLEVBQUVMLFlBQVk7Z0JBQzNHLE9BQU87b0JBQ0xoQixRQUFRTyxHQUFHLENBQUM7Z0JBQ2Q7WUFDRixPQUFPO2dCQUNMUCxRQUFRTyxHQUFHLENBQUM7WUFDZDtZQUVBLE1BQU1rQixpQkFBaUI7Z0JBQ3JCQyxjQUFjWixZQUFZYSxxQkFBcUIsRUFBRUMsTUFBTUMsUUFBUTtnQkFDL0RDLE9BQU9oQixZQUFZYSxxQkFBcUIsRUFBRUMsTUFBTUcsU0FBUztnQkFDekRDLE1BQU1sQixZQUFZbUIsbUJBQW1CLEVBQUVDLHFCQUFxQjtnQkFDNURDLFFBQVFyQixZQUFZbUIsbUJBQW1CLEVBQUVHLFVBQVU7Z0JBQ25EQyxNQUFNdkIsWUFBWW1CLG1CQUFtQixFQUFFSyxnQkFBZ0I7Z0JBQ3ZEQyxPQUFPekIsWUFBWTBCLFdBQVcsRUFBRUMsYUFBYTtnQkFDN0NDLFVBQVUsR0FBRzVCLFlBQVk2QixnQkFBZ0IsRUFBRUMsWUFBWUMsaUJBQWlCLElBQUksTUFBTSxDQUFDO2dCQUNuRm5ELGNBQWNBO2dCQUNkc0IsWUFBWUE7Z0JBQ1o4QixVQUFVbkMsY0FBY0MsUUFBUSxFQUFFRyxXQUFXRSxrQkFBa0JFLGdCQUFnQjtZQUNqRjtZQUVBbkIsUUFBUU8sR0FBRyxDQUFDLDhCQUE4QmtCO1lBQzFDcEMsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFBRVUsU0FBUztnQkFBTXVCO1lBQWU7UUFDdkQsT0FBTztZQUNMekIsUUFBUU8sR0FBRyxDQUFDLG9DQUFvQ0QsWUFBWU0sUUFBUSxFQUFFbUM7WUFDdEUxRCxJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUNuQlUsU0FBUztnQkFDVHVCLGdCQUFnQjtvQkFDZEMsY0FBYztvQkFDZEksT0FBTztvQkFDUEUsTUFBTTtvQkFDTkcsUUFBUTtvQkFDUkUsTUFBTTtvQkFDTkUsT0FBTztvQkFDUEcsVUFBVTtvQkFDVmhELGNBQWNBO29CQUNkc0IsWUFBWTtvQkFDWjhCLFVBQVU7Z0JBQ1o7WUFDRjtRQUNGO0lBQ0YsRUFBRSxPQUFPN0MsT0FBTztRQUNkRCxRQUFRQyxLQUFLLENBQUMsNEJBQTRCQTtRQUMxQ1osSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUNuQlUsU0FBUztZQUNUdUIsZ0JBQWdCO2dCQUNkQyxjQUFjO2dCQUNkSSxPQUFPO2dCQUNQRSxNQUFNO2dCQUNORyxRQUFRO2dCQUNSRSxNQUFNO2dCQUNORSxPQUFPO2dCQUNQRyxVQUFVO2dCQUNWaEQsY0FBY0E7Z0JBQ2RzQixZQUFZO2dCQUNaOEIsVUFBVTtZQUNaO1FBQ0Y7SUFDRjtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvbXVoYW1tYWRhbGkvRGVza3RvcC9XaW5kc2NyZWVuQ29tcGFyZS93aW5kc2hpZWxkX2NvbXBhcmUvV2luZENvbXBhcmUvcGFnZXMvYXBpL3ZlaGljbGUtbG9va3VwLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcTogTmV4dEFwaVJlcXVlc3QsIHJlczogTmV4dEFwaVJlc3BvbnNlKSB7XG4gIGlmIChyZXEubWV0aG9kICE9PSAnUE9TVCcpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBtZXNzYWdlOiAnTWV0aG9kIG5vdCBhbGxvd2VkJyB9KTtcbiAgfVxuXG4gIGNvbnN0IHsgcmVnaXN0cmF0aW9uIH0gPSByZXEuYm9keTtcblxuICB0cnkge1xuICAgIGNvbnN0IGFwaUtleSA9IHByb2Nlc3MuZW52LlVLX1ZFSElDTEVfREFUQV9BUElfS0VZO1xuICAgIFxuICAgIGlmICghYXBpS2V5KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdVS19WRUhJQ0xFX0RBVEFfQVBJX0tFWSBlbnZpcm9ubWVudCB2YXJpYWJsZSBpcyBub3Qgc2V0Jyk7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBcbiAgICAgICAgc3VjY2VzczogZmFsc2UsIFxuICAgICAgICBtZXNzYWdlOiAnVmVoaWNsZSBkYXRhIEFQSSBrZXkgbm90IGNvbmZpZ3VyZWQnIFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gRmV0Y2ggdmVoaWNsZSBkYXRhXG4gICAgY29uc3QgdmVoaWNsZVJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICBgaHR0cHM6Ly91azEudWt2ZWhpY2xlZGF0YS5jby51ay9hcGkvZGF0YXBhY2thZ2UvVmVoaWNsZURhdGE/dj0yJmFwaV9udWxsaXRlbXM9MSZhdXRoX2FwaWtleT0ke2FwaUtleX0ma2V5X1ZSTT0ke3JlZ2lzdHJhdGlvbn1gLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG5cbiAgICBjb25zdCB2ZWhpY2xlRGF0YSA9IGF3YWl0IHZlaGljbGVSZXNwb25zZS5qc29uKCk7XG4gICAgY29uc29sZS5sb2coJ1JhdyBWZWhpY2xlIEFQSSByZXNwb25zZTonLCBKU09OLnN0cmluZ2lmeSh2ZWhpY2xlRGF0YSwgbnVsbCwgMikpO1xuXG4gICAgLy8gRmV0Y2ggdmFsdWF0aW9uIGRhdGFcbiAgICBjb25zdCB2YWx1YXRpb25SZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgYGh0dHBzOi8vdWsxLnVrdmVoaWNsZWRhdGEuY28udWsvYXBpL2RhdGFwYWNrYWdlL1ZhbHVhdGlvbkRhdGE/dj0yJmFwaV9udWxsaXRlbXM9MSZhdXRoX2FwaWtleT0ke2FwaUtleX0ma2V5X1ZSTT0ke3JlZ2lzdHJhdGlvbn1gLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG5cbiAgICBjb25zdCB2YWx1YXRpb25EYXRhID0gYXdhaXQgdmFsdWF0aW9uUmVzcG9uc2UuanNvbigpO1xuICAgIGNvbnNvbGUubG9nKCdSYXcgVmFsdWF0aW9uIEFQSSByZXNwb25zZTonLCBKU09OLnN0cmluZ2lmeSh2YWx1YXRpb25EYXRhLCBudWxsLCAyKSk7XG5cbiAgICBpZiAodmVoaWNsZURhdGEuUmVzcG9uc2U/LlN0YXR1c0NvZGUgPT09IFwiU3VjY2Vzc1wiKSB7XG4gICAgICBjb25zdCB2ZWhpY2xlSW5mbyA9IHZlaGljbGVEYXRhLlJlc3BvbnNlLkRhdGFJdGVtcztcbiAgICAgIGNvbnNvbGUubG9nKCdWZWhpY2xlIEluZm86JywgdmVoaWNsZUluZm8pO1xuXG4gICAgICAvLyBDYWxjdWxhdGUgcXVvdGUgcHJpY2UgZnJvbSB2YWx1YXRpb24gZGF0YVxuICAgICAgbGV0IHF1b3RlUHJpY2UgPSA3MDsgLy8gRGVmYXVsdCBtaW5pbXVtIHByaWNlXG4gICAgICBcbiAgICAgIGlmICh2YWx1YXRpb25EYXRhLlJlc3BvbnNlPy5TdGF0dXNDb2RlID09PSBcIlN1Y2Nlc3NcIiAmJiB2YWx1YXRpb25EYXRhLlJlc3BvbnNlLkRhdGFJdGVtcz8uVmFsdWF0aW9uRGV0YWlscykge1xuICAgICAgICBjb25zdCBvdHJWYWx1ZSA9IHZhbHVhdGlvbkRhdGEuUmVzcG9uc2UuRGF0YUl0ZW1zLlZhbHVhdGlvbkRldGFpbHMuUGFydEV4Y2hhbmdlO1xuICAgICAgICBcbiAgICAgICAgaWYgKG90clZhbHVlICYmICFpc05hTihvdHJWYWx1ZSkpIHtcbiAgICAgICAgICAvLyBDYWxjdWxhdGUgMSUgb2YgT1RSIChPbiBUaGUgUm9hZCkgcHJpY2UgdmFsdWVcbiAgICAgICAgICBjb25zdCBjYWxjdWxhdGVkUHJpY2UgPSBNYXRoLnJvdW5kKG90clZhbHVlICogMC4wMSk7XG4gICAgICAgICAgLy8gRW5zdXJlIG1pbmltdW0gcHJpY2UgaXMgwqM3MFxuICAgICAgICAgIHF1b3RlUHJpY2UgPSBNYXRoLm1heChjYWxjdWxhdGVkUHJpY2UsIDcwKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgT1RSIFByaWNlOiDCoyR7b3RyVmFsdWV9LCBDYWxjdWxhdGVkIFF1b3RlOiDCoyR7Y2FsY3VsYXRlZFByaWNlfSwgRmluYWwgUXVvdGU6IMKjJHtxdW90ZVByaWNlfWApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdPVFIgcHJpY2Ugbm90IGF2YWlsYWJsZSBvciBpbnZhbGlkLCB1c2luZyBtaW5pbXVtIHByaWNlJyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdWYWx1YXRpb24gZGF0YSBub3QgYXZhaWxhYmxlLCB1c2luZyBtaW5pbXVtIHByaWNlJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHZlaGljbGVEZXRhaWxzID0ge1xuICAgICAgICBtYW51ZmFjdHVyZXI6IHZlaGljbGVJbmZvLkNsYXNzaWZpY2F0aW9uRGV0YWlscz8uRHZsYT8uTWFrZSB8fCAnVW5rbm93bicsXG4gICAgICAgIG1vZGVsOiB2ZWhpY2xlSW5mby5DbGFzc2lmaWNhdGlvbkRldGFpbHM/LkR2bGE/Lk1vZGVsIHx8ICdVbmtub3duJyxcbiAgICAgICAgeWVhcjogdmVoaWNsZUluZm8uVmVoaWNsZVJlZ2lzdHJhdGlvbj8uWWVhck9mTWFudWZhY3R1cmUgfHwgJ1Vua25vd24nLFxuICAgICAgICBjb2xvdXI6IHZlaGljbGVJbmZvLlZlaGljbGVSZWdpc3RyYXRpb24/LkNvbG91ciB8fCAnVW5rbm93bicsXG4gICAgICAgIHR5cGU6IHZlaGljbGVJbmZvLlZlaGljbGVSZWdpc3RyYXRpb24/LlZlaGljbGVDbGFzcyB8fCAnVW5rbm93bicsXG4gICAgICAgIHN0eWxlOiB2ZWhpY2xlSW5mby5TbW10RGV0YWlscz8uQm9keVN0eWxlIHx8ICdVbmtub3duJyxcbiAgICAgICAgZG9vclBsYW46IGAke3ZlaGljbGVJbmZvLlRlY2huaWNhbERldGFpbHM/LkRpbWVuc2lvbnM/Lk51bWJlck9mRG9vcnMgfHwgJz8nfSBEb29yc2AsXG4gICAgICAgIHJlZ2lzdHJhdGlvbjogcmVnaXN0cmF0aW9uLFxuICAgICAgICBxdW90ZVByaWNlOiBxdW90ZVByaWNlLFxuICAgICAgICBvdHJQcmljZTogdmFsdWF0aW9uRGF0YS5SZXNwb25zZT8uRGF0YUl0ZW1zPy5WYWx1YXRpb25EZXRhaWxzPy5QYXJ0RXhjaGFuZ2UgfHwgbnVsbFxuICAgICAgfTtcblxuICAgICAgY29uc29sZS5sb2coJ1Byb2Nlc3NlZCB2ZWhpY2xlIGRldGFpbHM6JywgdmVoaWNsZURldGFpbHMpO1xuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBzdWNjZXNzOiB0cnVlLCB2ZWhpY2xlRGV0YWlscyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coJ0FQSSByZXR1cm5lZCBub24tc3VjY2VzcyBzdGF0dXM6JywgdmVoaWNsZURhdGEuUmVzcG9uc2U/LlN0YXR1c01lc3NhZ2UpO1xuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBcbiAgICAgICAgc3VjY2VzczogdHJ1ZSwgXG4gICAgICAgIHZlaGljbGVEZXRhaWxzOiB7XG4gICAgICAgICAgbWFudWZhY3R1cmVyOiAnVW5rbm93bicsXG4gICAgICAgICAgbW9kZWw6ICdVbmtub3duJyxcbiAgICAgICAgICB5ZWFyOiAnVW5rbm93bicsXG4gICAgICAgICAgY29sb3VyOiAnVW5rbm93bicsXG4gICAgICAgICAgdHlwZTogJ1Vua25vd24nLFxuICAgICAgICAgIHN0eWxlOiAnVW5rbm93bicsXG4gICAgICAgICAgZG9vclBsYW46ICdVbmtub3duJyxcbiAgICAgICAgICByZWdpc3RyYXRpb246IHJlZ2lzdHJhdGlvbixcbiAgICAgICAgICBxdW90ZVByaWNlOiA3MCxcbiAgICAgICAgICBvdHJQcmljZTogbnVsbFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gdmVoaWNsZSBsb29rdXA6JywgZXJyb3IpO1xuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgXG4gICAgICBzdWNjZXNzOiB0cnVlLCBcbiAgICAgIHZlaGljbGVEZXRhaWxzOiB7XG4gICAgICAgIG1hbnVmYWN0dXJlcjogJ1Vua25vd24nLFxuICAgICAgICBtb2RlbDogJ1Vua25vd24nLFxuICAgICAgICB5ZWFyOiAnVW5rbm93bicsXG4gICAgICAgIGNvbG91cjogJ1Vua25vd24nLFxuICAgICAgICB0eXBlOiAnVW5rbm93bicsXG4gICAgICAgIHN0eWxlOiAnVW5rbm93bicsXG4gICAgICAgIGRvb3JQbGFuOiAnVW5rbm93bicsXG4gICAgICAgIHJlZ2lzdHJhdGlvbjogcmVnaXN0cmF0aW9uLFxuICAgICAgICBxdW90ZVByaWNlOiA3MCxcbiAgICAgICAgb3RyUHJpY2U6IG51bGxcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSAiXSwibmFtZXMiOlsiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwicmVnaXN0cmF0aW9uIiwiYm9keSIsImFwaUtleSIsInByb2Nlc3MiLCJlbnYiLCJVS19WRUhJQ0xFX0RBVEFfQVBJX0tFWSIsImNvbnNvbGUiLCJlcnJvciIsInN1Y2Nlc3MiLCJ2ZWhpY2xlUmVzcG9uc2UiLCJmZXRjaCIsImhlYWRlcnMiLCJ2ZWhpY2xlRGF0YSIsImxvZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJ2YWx1YXRpb25SZXNwb25zZSIsInZhbHVhdGlvbkRhdGEiLCJSZXNwb25zZSIsIlN0YXR1c0NvZGUiLCJ2ZWhpY2xlSW5mbyIsIkRhdGFJdGVtcyIsInF1b3RlUHJpY2UiLCJWYWx1YXRpb25EZXRhaWxzIiwib3RyVmFsdWUiLCJQYXJ0RXhjaGFuZ2UiLCJpc05hTiIsImNhbGN1bGF0ZWRQcmljZSIsIk1hdGgiLCJyb3VuZCIsIm1heCIsInZlaGljbGVEZXRhaWxzIiwibWFudWZhY3R1cmVyIiwiQ2xhc3NpZmljYXRpb25EZXRhaWxzIiwiRHZsYSIsIk1ha2UiLCJtb2RlbCIsIk1vZGVsIiwieWVhciIsIlZlaGljbGVSZWdpc3RyYXRpb24iLCJZZWFyT2ZNYW51ZmFjdHVyZSIsImNvbG91ciIsIkNvbG91ciIsInR5cGUiLCJWZWhpY2xlQ2xhc3MiLCJzdHlsZSIsIlNtbXREZXRhaWxzIiwiQm9keVN0eWxlIiwiZG9vclBsYW4iLCJUZWNobmljYWxEZXRhaWxzIiwiRGltZW5zaW9ucyIsIk51bWJlck9mRG9vcnMiLCJvdHJQcmljZSIsIlN0YXR1c01lc3NhZ2UiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/vehicle-lookup.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fvehicle-lookup&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fvehicle-lookup.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();