"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/get-quote-data";
exports.ids = ["pages/api/get-quote-data"];
exports.modules = {

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("@supabase/supabase-js");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fget-quote-data&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fget-quote-data.ts&middlewareConfigBase64=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fget-quote-data&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fget-quote-data.ts&middlewareConfigBase64=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_get_quote_data_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/get-quote-data.ts */ \"(api)/./pages/api/get-quote-data.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_get_quote_data_ts__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_get_quote_data_ts__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/get-quote-data\",\n        pathname: \"/api/get-quote-data\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_get_quote_data_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmdldC1xdW90ZS1kYXRhJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlMkZhcGklMkZnZXQtcXVvdGUtZGF0YS50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDRTtBQUMxRDtBQUMwRDtBQUMxRDtBQUNBLGlFQUFlLHdFQUFLLENBQUMseURBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLHlEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLHlHQUFtQjtBQUNsRDtBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvYXBpL2dldC1xdW90ZS1kYXRhLnRzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsICdkZWZhdWx0Jyk7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCAnY29uZmlnJyk7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9nZXQtcXVvdGUtZGF0YVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2dldC1xdW90ZS1kYXRhXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogJycsXG4gICAgICAgIGZpbGVuYW1lOiAnJ1xuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fget-quote-data&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fget-quote-data.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/inputValidation.ts":
/*!********************************!*\
  !*** ./lib/inputValidation.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sanitizeQuoteId: () => (/* binding */ sanitizeQuoteId),\n/* harmony export */   sanitizeString: () => (/* binding */ sanitizeString),\n/* harmony export */   validateAmount: () => (/* binding */ validateAmount),\n/* harmony export */   validateEmail: () => (/* binding */ validateEmail),\n/* harmony export */   validatePhoneNumber: () => (/* binding */ validatePhoneNumber),\n/* harmony export */   validatePostcode: () => (/* binding */ validatePostcode),\n/* harmony export */   validateQuoteData: () => (/* binding */ validateQuoteData),\n/* harmony export */   validateVehicleReg: () => (/* binding */ validateVehicleReg)\n/* harmony export */ });\nconst sanitizeString = (input)=>{\n    if (typeof input !== 'string') return '';\n    // Remove potentially dangerous characters\n    return input.replace(/[<>'\"&]/g, '') // Remove HTML/script injection characters\n    .replace(/\\0/g, '') // Remove null bytes\n    .trim().slice(0, 1000); // Limit length\n};\nconst validateEmail = (email)=>{\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return emailRegex.test(email) && email.length <= 254;\n};\nconst validatePostcode = (postcode)=>{\n    // UK postcode validation\n    const postcodeRegex = /^[A-Z]{1,2}[0-9R][0-9A-Z]? [0-9][ABD-HJLNP-UW-Z]{2}$/i;\n    return postcodeRegex.test(postcode.replace(/\\s+/g, ' ').trim());\n};\nconst validateVehicleReg = (reg)=>{\n    // UK vehicle registration validation (basic)\n    const regRegex = /^[A-Z]{2}[0-9]{2}[A-Z]{3}$|^[A-Z][0-9]{1,3}[A-Z]{3}$|^[A-Z]{3}[0-9]{1,3}[A-Z]$/i;\n    return regRegex.test(reg.replace(/\\s+/g, ''));\n};\nconst validatePhoneNumber = (phone)=>{\n    // UK phone number validation\n    const phoneRegex = /^(\\+44|0)[1-9]\\d{8,9}$/;\n    return phoneRegex.test(phone.replace(/\\s+/g, ''));\n};\nconst sanitizeQuoteId = (quoteId)=>{\n    // Only allow alphanumeric and hyphens for quote IDs\n    return quoteId.replace(/[^a-zA-Z0-9-]/g, '').slice(0, 50);\n};\nconst validateAmount = (amount)=>{\n    return typeof amount === 'number' && amount > 0 && amount < 10000 && // Max Â£10,000\n    Number.isFinite(amount);\n};\nconst validateQuoteData = (data)=>{\n    const errors = [];\n    if (!data.vehicleReg || !validateVehicleReg(data.vehicleReg)) {\n        errors.push('Invalid vehicle registration');\n    }\n    if (!data.email || !validateEmail(data.email)) {\n        errors.push('Invalid email address');\n    }\n    if (data.mobile && !validatePhoneNumber(data.mobile)) {\n        errors.push('Invalid phone number');\n    }\n    if (data.postcode && !validatePostcode(data.postcode)) {\n        errors.push('Invalid postcode');\n    }\n    if (data.amount && !validateAmount(data.amount)) {\n        errors.push('Invalid amount');\n    }\n    return {\n        valid: errors.length === 0,\n        errors\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvaW5wdXRWYWxpZGF0aW9uLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQU8sTUFBTUEsaUJBQWlCLENBQUNDO0lBQzdCLElBQUksT0FBT0EsVUFBVSxVQUFVLE9BQU87SUFFdEMsMENBQTBDO0lBQzFDLE9BQU9BLE1BQ0pDLE9BQU8sQ0FBQyxZQUFZLElBQUksMENBQTBDO0tBQ2xFQSxPQUFPLENBQUMsT0FBTyxJQUFJLG9CQUFvQjtLQUN2Q0MsSUFBSSxHQUNKQyxLQUFLLENBQUMsR0FBRyxPQUFPLGVBQWU7QUFDcEMsRUFBRTtBQUVLLE1BQU1DLGdCQUFnQixDQUFDQztJQUM1QixNQUFNQyxhQUFhO0lBQ25CLE9BQU9BLFdBQVdDLElBQUksQ0FBQ0YsVUFBVUEsTUFBTUcsTUFBTSxJQUFJO0FBQ25ELEVBQUU7QUFFSyxNQUFNQyxtQkFBbUIsQ0FBQ0M7SUFDL0IseUJBQXlCO0lBQ3pCLE1BQU1DLGdCQUFnQjtJQUN0QixPQUFPQSxjQUFjSixJQUFJLENBQUNHLFNBQVNULE9BQU8sQ0FBQyxRQUFRLEtBQUtDLElBQUk7QUFDOUQsRUFBRTtBQUVLLE1BQU1VLHFCQUFxQixDQUFDQztJQUNqQyw2Q0FBNkM7SUFDN0MsTUFBTUMsV0FBVztJQUNqQixPQUFPQSxTQUFTUCxJQUFJLENBQUNNLElBQUlaLE9BQU8sQ0FBQyxRQUFRO0FBQzNDLEVBQUU7QUFFSyxNQUFNYyxzQkFBc0IsQ0FBQ0M7SUFDbEMsNkJBQTZCO0lBQzdCLE1BQU1DLGFBQWE7SUFDbkIsT0FBT0EsV0FBV1YsSUFBSSxDQUFDUyxNQUFNZixPQUFPLENBQUMsUUFBUTtBQUMvQyxFQUFFO0FBRUssTUFBTWlCLGtCQUFrQixDQUFDQztJQUM5QixvREFBb0Q7SUFDcEQsT0FBT0EsUUFBUWxCLE9BQU8sQ0FBQyxrQkFBa0IsSUFBSUUsS0FBSyxDQUFDLEdBQUc7QUFDeEQsRUFBRTtBQUVLLE1BQU1pQixpQkFBaUIsQ0FBQ0M7SUFDN0IsT0FBTyxPQUFPQSxXQUFXLFlBQ2xCQSxTQUFTLEtBQ1RBLFNBQVMsU0FBUyxjQUFjO0lBQ2hDQyxPQUFPQyxRQUFRLENBQUNGO0FBQ3pCLEVBQUU7QUFFSyxNQUFNRyxvQkFBb0IsQ0FBQ0M7SUFDaEMsTUFBTUMsU0FBbUIsRUFBRTtJQUUzQixJQUFJLENBQUNELEtBQUtFLFVBQVUsSUFBSSxDQUFDZixtQkFBbUJhLEtBQUtFLFVBQVUsR0FBRztRQUM1REQsT0FBT0UsSUFBSSxDQUFDO0lBQ2Q7SUFFQSxJQUFJLENBQUNILEtBQUtwQixLQUFLLElBQUksQ0FBQ0QsY0FBY3FCLEtBQUtwQixLQUFLLEdBQUc7UUFDN0NxQixPQUFPRSxJQUFJLENBQUM7SUFDZDtJQUVBLElBQUlILEtBQUtJLE1BQU0sSUFBSSxDQUFDZCxvQkFBb0JVLEtBQUtJLE1BQU0sR0FBRztRQUNwREgsT0FBT0UsSUFBSSxDQUFDO0lBQ2Q7SUFFQSxJQUFJSCxLQUFLZixRQUFRLElBQUksQ0FBQ0QsaUJBQWlCZ0IsS0FBS2YsUUFBUSxHQUFHO1FBQ3JEZ0IsT0FBT0UsSUFBSSxDQUFDO0lBQ2Q7SUFFQSxJQUFJSCxLQUFLSixNQUFNLElBQUksQ0FBQ0QsZUFBZUssS0FBS0osTUFBTSxHQUFHO1FBQy9DSyxPQUFPRSxJQUFJLENBQUM7SUFDZDtJQUVBLE9BQU87UUFDTEUsT0FBT0osT0FBT2xCLE1BQU0sS0FBSztRQUN6QmtCO0lBQ0Y7QUFDRixFQUFFIiwic291cmNlcyI6WyIvVXNlcnMvbXVoYW1tYWRhbGkvRGVza3RvcC9XaW5kc2NyZWVuQ29tcGFyZS93aW5kc2hpZWxkX2NvbXBhcmUvV2luZENvbXBhcmUvbGliL2lucHV0VmFsaWRhdGlvbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3Qgc2FuaXRpemVTdHJpbmcgPSAoaW5wdXQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIGlmICh0eXBlb2YgaW5wdXQgIT09ICdzdHJpbmcnKSByZXR1cm4gJyc7XG4gIFxuICAvLyBSZW1vdmUgcG90ZW50aWFsbHkgZGFuZ2Vyb3VzIGNoYXJhY3RlcnNcbiAgcmV0dXJuIGlucHV0XG4gICAgLnJlcGxhY2UoL1s8PidcIiZdL2csICcnKSAvLyBSZW1vdmUgSFRNTC9zY3JpcHQgaW5qZWN0aW9uIGNoYXJhY3RlcnNcbiAgICAucmVwbGFjZSgvXFwwL2csICcnKSAvLyBSZW1vdmUgbnVsbCBieXRlc1xuICAgIC50cmltKClcbiAgICAuc2xpY2UoMCwgMTAwMCk7IC8vIExpbWl0IGxlbmd0aFxufTtcblxuZXhwb3J0IGNvbnN0IHZhbGlkYXRlRW1haWwgPSAoZW1haWw6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICBjb25zdCBlbWFpbFJlZ2V4ID0gL15bXlxcc0BdK0BbXlxcc0BdK1xcLlteXFxzQF0rJC87XG4gIHJldHVybiBlbWFpbFJlZ2V4LnRlc3QoZW1haWwpICYmIGVtYWlsLmxlbmd0aCA8PSAyNTQ7XG59O1xuXG5leHBvcnQgY29uc3QgdmFsaWRhdGVQb3N0Y29kZSA9IChwb3N0Y29kZTogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gIC8vIFVLIHBvc3Rjb2RlIHZhbGlkYXRpb25cbiAgY29uc3QgcG9zdGNvZGVSZWdleCA9IC9eW0EtWl17MSwyfVswLTlSXVswLTlBLVpdPyBbMC05XVtBQkQtSEpMTlAtVVctWl17Mn0kL2k7XG4gIHJldHVybiBwb3N0Y29kZVJlZ2V4LnRlc3QocG9zdGNvZGUucmVwbGFjZSgvXFxzKy9nLCAnICcpLnRyaW0oKSk7XG59O1xuXG5leHBvcnQgY29uc3QgdmFsaWRhdGVWZWhpY2xlUmVnID0gKHJlZzogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gIC8vIFVLIHZlaGljbGUgcmVnaXN0cmF0aW9uIHZhbGlkYXRpb24gKGJhc2ljKVxuICBjb25zdCByZWdSZWdleCA9IC9eW0EtWl17Mn1bMC05XXsyfVtBLVpdezN9JHxeW0EtWl1bMC05XXsxLDN9W0EtWl17M30kfF5bQS1aXXszfVswLTldezEsM31bQS1aXSQvaTtcbiAgcmV0dXJuIHJlZ1JlZ2V4LnRlc3QocmVnLnJlcGxhY2UoL1xccysvZywgJycpKTtcbn07XG5cbmV4cG9ydCBjb25zdCB2YWxpZGF0ZVBob25lTnVtYmVyID0gKHBob25lOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgLy8gVUsgcGhvbmUgbnVtYmVyIHZhbGlkYXRpb25cbiAgY29uc3QgcGhvbmVSZWdleCA9IC9eKFxcKzQ0fDApWzEtOV1cXGR7OCw5fSQvO1xuICByZXR1cm4gcGhvbmVSZWdleC50ZXN0KHBob25lLnJlcGxhY2UoL1xccysvZywgJycpKTtcbn07XG5cbmV4cG9ydCBjb25zdCBzYW5pdGl6ZVF1b3RlSWQgPSAocXVvdGVJZDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgLy8gT25seSBhbGxvdyBhbHBoYW51bWVyaWMgYW5kIGh5cGhlbnMgZm9yIHF1b3RlIElEc1xuICByZXR1cm4gcXVvdGVJZC5yZXBsYWNlKC9bXmEtekEtWjAtOS1dL2csICcnKS5zbGljZSgwLCA1MCk7XG59O1xuXG5leHBvcnQgY29uc3QgdmFsaWRhdGVBbW91bnQgPSAoYW1vdW50OiBudW1iZXIpOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIHR5cGVvZiBhbW91bnQgPT09ICdudW1iZXInICYmIFxuICAgICAgICAgYW1vdW50ID4gMCAmJiBcbiAgICAgICAgIGFtb3VudCA8IDEwMDAwICYmIC8vIE1heCDCozEwLDAwMFxuICAgICAgICAgTnVtYmVyLmlzRmluaXRlKGFtb3VudCk7XG59O1xuXG5leHBvcnQgY29uc3QgdmFsaWRhdGVRdW90ZURhdGEgPSAoZGF0YTogYW55KTogeyB2YWxpZDogYm9vbGVhbjsgZXJyb3JzOiBzdHJpbmdbXSB9ID0+IHtcbiAgY29uc3QgZXJyb3JzOiBzdHJpbmdbXSA9IFtdO1xuXG4gIGlmICghZGF0YS52ZWhpY2xlUmVnIHx8ICF2YWxpZGF0ZVZlaGljbGVSZWcoZGF0YS52ZWhpY2xlUmVnKSkge1xuICAgIGVycm9ycy5wdXNoKCdJbnZhbGlkIHZlaGljbGUgcmVnaXN0cmF0aW9uJyk7XG4gIH1cblxuICBpZiAoIWRhdGEuZW1haWwgfHwgIXZhbGlkYXRlRW1haWwoZGF0YS5lbWFpbCkpIHtcbiAgICBlcnJvcnMucHVzaCgnSW52YWxpZCBlbWFpbCBhZGRyZXNzJyk7XG4gIH1cblxuICBpZiAoZGF0YS5tb2JpbGUgJiYgIXZhbGlkYXRlUGhvbmVOdW1iZXIoZGF0YS5tb2JpbGUpKSB7XG4gICAgZXJyb3JzLnB1c2goJ0ludmFsaWQgcGhvbmUgbnVtYmVyJyk7XG4gIH1cblxuICBpZiAoZGF0YS5wb3N0Y29kZSAmJiAhdmFsaWRhdGVQb3N0Y29kZShkYXRhLnBvc3Rjb2RlKSkge1xuICAgIGVycm9ycy5wdXNoKCdJbnZhbGlkIHBvc3Rjb2RlJyk7XG4gIH1cblxuICBpZiAoZGF0YS5hbW91bnQgJiYgIXZhbGlkYXRlQW1vdW50KGRhdGEuYW1vdW50KSkge1xuICAgIGVycm9ycy5wdXNoKCdJbnZhbGlkIGFtb3VudCcpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB2YWxpZDogZXJyb3JzLmxlbmd0aCA9PT0gMCxcbiAgICBlcnJvcnNcbiAgfTtcbn07ICJdLCJuYW1lcyI6WyJzYW5pdGl6ZVN0cmluZyIsImlucHV0IiwicmVwbGFjZSIsInRyaW0iLCJzbGljZSIsInZhbGlkYXRlRW1haWwiLCJlbWFpbCIsImVtYWlsUmVnZXgiLCJ0ZXN0IiwibGVuZ3RoIiwidmFsaWRhdGVQb3N0Y29kZSIsInBvc3Rjb2RlIiwicG9zdGNvZGVSZWdleCIsInZhbGlkYXRlVmVoaWNsZVJlZyIsInJlZyIsInJlZ1JlZ2V4IiwidmFsaWRhdGVQaG9uZU51bWJlciIsInBob25lIiwicGhvbmVSZWdleCIsInNhbml0aXplUXVvdGVJZCIsInF1b3RlSWQiLCJ2YWxpZGF0ZUFtb3VudCIsImFtb3VudCIsIk51bWJlciIsImlzRmluaXRlIiwidmFsaWRhdGVRdW90ZURhdGEiLCJkYXRhIiwiZXJyb3JzIiwidmVoaWNsZVJlZyIsInB1c2giLCJtb2JpbGUiLCJ2YWxpZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/inputValidation.ts\n");

/***/ }),

/***/ "(api)/./lib/rateLimiter.ts":
/*!****************************!*\
  !*** ./lib/rateLimiter.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   normalRateLimit: () => (/* binding */ normalRateLimit),\n/* harmony export */   rateLimit: () => (/* binding */ rateLimit),\n/* harmony export */   strictRateLimit: () => (/* binding */ strictRateLimit),\n/* harmony export */   uploadRateLimit: () => (/* binding */ uploadRateLimit)\n/* harmony export */ });\nconst store = {};\n// Clean up expired entries every 10 minutes\nsetInterval(()=>{\n    const now = Date.now();\n    for(const key in store){\n        if (store[key].resetTime < now) {\n            delete store[key];\n        }\n    }\n}, 10 * 60 * 1000);\nfunction rateLimit(options) {\n    return (req, res, next)=>{\n        // Get client IP\n        const forwarded = req.headers['x-forwarded-for'];\n        const ip = forwarded ? forwarded.split(',')[0] : req.socket.remoteAddress || 'unknown';\n        const now = Date.now();\n        const key = `${ip}:${req.url}`;\n        // Initialize or reset if window expired\n        if (!store[key] || store[key].resetTime < now) {\n            store[key] = {\n                count: 1,\n                resetTime: now + options.windowMs\n            };\n        } else {\n            store[key].count++;\n        }\n        // Check if limit exceeded\n        if (store[key].count > options.max) {\n            return res.status(429).json({\n                error: 'Too many requests',\n                retryAfter: Math.ceil((store[key].resetTime - now) / 1000)\n            });\n        }\n        // Add rate limit headers\n        res.setHeader('X-RateLimit-Limit', options.max);\n        res.setHeader('X-RateLimit-Remaining', Math.max(0, options.max - store[key].count));\n        res.setHeader('X-RateLimit-Reset', new Date(store[key].resetTime).toISOString());\n        if (next) next();\n        return true;\n    };\n}\n// Common rate limit configurations\nconst strictRateLimit = rateLimit({\n    windowMs: 15 * 60 * 1000,\n    max: 5\n}); // 5 requests per 15 minutes\nconst normalRateLimit = rateLimit({\n    windowMs: 15 * 60 * 1000,\n    max: 100\n}); // 100 requests per 15 minutes\nconst uploadRateLimit = rateLimit({\n    windowMs: 60 * 1000,\n    max: 5\n}); // 5 uploads per minute \n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvcmF0ZUxpbWl0ZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQVNBLE1BQU1BLFFBQXdCLENBQUM7QUFPL0IsNENBQTRDO0FBQzVDQyxZQUFZO0lBQ1YsTUFBTUMsTUFBTUMsS0FBS0QsR0FBRztJQUNwQixJQUFLLE1BQU1FLE9BQU9KLE1BQU87UUFDdkIsSUFBSUEsS0FBSyxDQUFDSSxJQUFJLENBQUNDLFNBQVMsR0FBR0gsS0FBSztZQUM5QixPQUFPRixLQUFLLENBQUNJLElBQUk7UUFDbkI7SUFDRjtBQUNGLEdBQUcsS0FBSyxLQUFLO0FBRU4sU0FBU0UsVUFBVUMsT0FBeUI7SUFDakQsT0FBTyxDQUFDQyxLQUFxQkMsS0FBc0JDO1FBQ2pELGdCQUFnQjtRQUNoQixNQUFNQyxZQUFZSCxJQUFJSSxPQUFPLENBQUMsa0JBQWtCO1FBQ2hELE1BQU1DLEtBQUtGLFlBQVlBLFVBQVVHLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFHTixJQUFJTyxNQUFNLENBQUNDLGFBQWEsSUFBSTtRQUU3RSxNQUFNZCxNQUFNQyxLQUFLRCxHQUFHO1FBQ3BCLE1BQU1FLE1BQU0sR0FBR1MsR0FBRyxDQUFDLEVBQUVMLElBQUlTLEdBQUcsRUFBRTtRQUU5Qix3Q0FBd0M7UUFDeEMsSUFBSSxDQUFDakIsS0FBSyxDQUFDSSxJQUFJLElBQUlKLEtBQUssQ0FBQ0ksSUFBSSxDQUFDQyxTQUFTLEdBQUdILEtBQUs7WUFDN0NGLEtBQUssQ0FBQ0ksSUFBSSxHQUFHO2dCQUNYYyxPQUFPO2dCQUNQYixXQUFXSCxNQUFNSyxRQUFRWSxRQUFRO1lBQ25DO1FBQ0YsT0FBTztZQUNMbkIsS0FBSyxDQUFDSSxJQUFJLENBQUNjLEtBQUs7UUFDbEI7UUFFQSwwQkFBMEI7UUFDMUIsSUFBSWxCLEtBQUssQ0FBQ0ksSUFBSSxDQUFDYyxLQUFLLEdBQUdYLFFBQVFhLEdBQUcsRUFBRTtZQUNsQyxPQUFPWCxJQUFJWSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUMxQkMsT0FBTztnQkFDUEMsWUFBWUMsS0FBS0MsSUFBSSxDQUFDLENBQUMxQixLQUFLLENBQUNJLElBQUksQ0FBQ0MsU0FBUyxHQUFHSCxHQUFFLElBQUs7WUFDdkQ7UUFDRjtRQUVBLHlCQUF5QjtRQUN6Qk8sSUFBSWtCLFNBQVMsQ0FBQyxxQkFBcUJwQixRQUFRYSxHQUFHO1FBQzlDWCxJQUFJa0IsU0FBUyxDQUFDLHlCQUF5QkYsS0FBS0wsR0FBRyxDQUFDLEdBQUdiLFFBQVFhLEdBQUcsR0FBR3BCLEtBQUssQ0FBQ0ksSUFBSSxDQUFDYyxLQUFLO1FBQ2pGVCxJQUFJa0IsU0FBUyxDQUFDLHFCQUFxQixJQUFJeEIsS0FBS0gsS0FBSyxDQUFDSSxJQUFJLENBQUNDLFNBQVMsRUFBRXVCLFdBQVc7UUFFN0UsSUFBSWxCLE1BQU1BO1FBQ1YsT0FBTztJQUNUO0FBQ0Y7QUFFQSxtQ0FBbUM7QUFDNUIsTUFBTW1CLGtCQUFrQnZCLFVBQVU7SUFBRWEsVUFBVSxLQUFLLEtBQUs7SUFBTUMsS0FBSztBQUFFLEdBQUcsQ0FBQyw0QkFBNEI7QUFDckcsTUFBTVUsa0JBQWtCeEIsVUFBVTtJQUFFYSxVQUFVLEtBQUssS0FBSztJQUFNQyxLQUFLO0FBQUksR0FBRyxDQUFDLDhCQUE4QjtBQUN6RyxNQUFNVyxrQkFBa0J6QixVQUFVO0lBQUVhLFVBQVUsS0FBSztJQUFNQyxLQUFLO0FBQUUsR0FBRyxDQUFDLHdCQUF3QiIsInNvdXJjZXMiOlsiL1VzZXJzL211aGFtbWFkYWxpL0Rlc2t0b3AvV2luZHNjcmVlbkNvbXBhcmUvd2luZHNoaWVsZF9jb21wYXJlL1dpbmRDb21wYXJlL2xpYi9yYXRlTGltaXRlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tICduZXh0JztcblxuaW50ZXJmYWNlIFJhdGVMaW1pdFN0b3JlIHtcbiAgW2tleTogc3RyaW5nXToge1xuICAgIGNvdW50OiBudW1iZXI7XG4gICAgcmVzZXRUaW1lOiBudW1iZXI7XG4gIH07XG59XG5cbmNvbnN0IHN0b3JlOiBSYXRlTGltaXRTdG9yZSA9IHt9O1xuXG5pbnRlcmZhY2UgUmF0ZUxpbWl0T3B0aW9ucyB7XG4gIHdpbmRvd01zOiBudW1iZXI7IC8vIFRpbWUgd2luZG93IGluIG1pbGxpc2Vjb25kc1xuICBtYXg6IG51bWJlcjsgLy8gTWF4aW11bSBudW1iZXIgb2YgcmVxdWVzdHMgcGVyIHdpbmRvd1xufVxuXG4vLyBDbGVhbiB1cCBleHBpcmVkIGVudHJpZXMgZXZlcnkgMTAgbWludXRlc1xuc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICBmb3IgKGNvbnN0IGtleSBpbiBzdG9yZSkge1xuICAgIGlmIChzdG9yZVtrZXldLnJlc2V0VGltZSA8IG5vdykge1xuICAgICAgZGVsZXRlIHN0b3JlW2tleV07XG4gICAgfVxuICB9XG59LCAxMCAqIDYwICogMTAwMCk7XG5cbmV4cG9ydCBmdW5jdGlvbiByYXRlTGltaXQob3B0aW9uczogUmF0ZUxpbWl0T3B0aW9ucykge1xuICByZXR1cm4gKHJlcTogTmV4dEFwaVJlcXVlc3QsIHJlczogTmV4dEFwaVJlc3BvbnNlLCBuZXh0PzogKCkgPT4gdm9pZCkgPT4ge1xuICAgIC8vIEdldCBjbGllbnQgSVBcbiAgICBjb25zdCBmb3J3YXJkZWQgPSByZXEuaGVhZGVyc1sneC1mb3J3YXJkZWQtZm9yJ10gYXMgc3RyaW5nO1xuICAgIGNvbnN0IGlwID0gZm9yd2FyZGVkID8gZm9yd2FyZGVkLnNwbGl0KCcsJylbMF0gOiByZXEuc29ja2V0LnJlbW90ZUFkZHJlc3MgfHwgJ3Vua25vd24nO1xuICAgIFxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgY29uc3Qga2V5ID0gYCR7aXB9OiR7cmVxLnVybH1gO1xuICAgIFxuICAgIC8vIEluaXRpYWxpemUgb3IgcmVzZXQgaWYgd2luZG93IGV4cGlyZWRcbiAgICBpZiAoIXN0b3JlW2tleV0gfHwgc3RvcmVba2V5XS5yZXNldFRpbWUgPCBub3cpIHtcbiAgICAgIHN0b3JlW2tleV0gPSB7XG4gICAgICAgIGNvdW50OiAxLFxuICAgICAgICByZXNldFRpbWU6IG5vdyArIG9wdGlvbnMud2luZG93TXNcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0b3JlW2tleV0uY291bnQrKztcbiAgICB9XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgbGltaXQgZXhjZWVkZWRcbiAgICBpZiAoc3RvcmVba2V5XS5jb3VudCA+IG9wdGlvbnMubWF4KSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MjkpLmpzb24oe1xuICAgICAgICBlcnJvcjogJ1RvbyBtYW55IHJlcXVlc3RzJyxcbiAgICAgICAgcmV0cnlBZnRlcjogTWF0aC5jZWlsKChzdG9yZVtrZXldLnJlc2V0VGltZSAtIG5vdykgLyAxMDAwKVxuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIC8vIEFkZCByYXRlIGxpbWl0IGhlYWRlcnNcbiAgICByZXMuc2V0SGVhZGVyKCdYLVJhdGVMaW1pdC1MaW1pdCcsIG9wdGlvbnMubWF4KTtcbiAgICByZXMuc2V0SGVhZGVyKCdYLVJhdGVMaW1pdC1SZW1haW5pbmcnLCBNYXRoLm1heCgwLCBvcHRpb25zLm1heCAtIHN0b3JlW2tleV0uY291bnQpKTtcbiAgICByZXMuc2V0SGVhZGVyKCdYLVJhdGVMaW1pdC1SZXNldCcsIG5ldyBEYXRlKHN0b3JlW2tleV0ucmVzZXRUaW1lKS50b0lTT1N0cmluZygpKTtcbiAgICBcbiAgICBpZiAobmV4dCkgbmV4dCgpO1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xufVxuXG4vLyBDb21tb24gcmF0ZSBsaW1pdCBjb25maWd1cmF0aW9uc1xuZXhwb3J0IGNvbnN0IHN0cmljdFJhdGVMaW1pdCA9IHJhdGVMaW1pdCh7IHdpbmRvd01zOiAxNSAqIDYwICogMTAwMCwgbWF4OiA1IH0pOyAvLyA1IHJlcXVlc3RzIHBlciAxNSBtaW51dGVzXG5leHBvcnQgY29uc3Qgbm9ybWFsUmF0ZUxpbWl0ID0gcmF0ZUxpbWl0KHsgd2luZG93TXM6IDE1ICogNjAgKiAxMDAwLCBtYXg6IDEwMCB9KTsgLy8gMTAwIHJlcXVlc3RzIHBlciAxNSBtaW51dGVzXG5leHBvcnQgY29uc3QgdXBsb2FkUmF0ZUxpbWl0ID0gcmF0ZUxpbWl0KHsgd2luZG93TXM6IDYwICogMTAwMCwgbWF4OiA1IH0pOyAvLyA1IHVwbG9hZHMgcGVyIG1pbnV0ZSAiXSwibmFtZXMiOlsic3RvcmUiLCJzZXRJbnRlcnZhbCIsIm5vdyIsIkRhdGUiLCJrZXkiLCJyZXNldFRpbWUiLCJyYXRlTGltaXQiLCJvcHRpb25zIiwicmVxIiwicmVzIiwibmV4dCIsImZvcndhcmRlZCIsImhlYWRlcnMiLCJpcCIsInNwbGl0Iiwic29ja2V0IiwicmVtb3RlQWRkcmVzcyIsInVybCIsImNvdW50Iiwid2luZG93TXMiLCJtYXgiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJyZXRyeUFmdGVyIiwiTWF0aCIsImNlaWwiLCJzZXRIZWFkZXIiLCJ0b0lTT1N0cmluZyIsInN0cmljdFJhdGVMaW1pdCIsIm5vcm1hbFJhdGVMaW1pdCIsInVwbG9hZFJhdGVMaW1pdCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/rateLimiter.ts\n");

/***/ }),

/***/ "(api)/./lib/supabaseClient.ts":
/*!*******************************!*\
  !*** ./lib/supabaseClient.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   supabase: () => (/* binding */ supabase)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__);\n\nconst supabaseUrl = \"https://julpwjxzrlkbxdbphrdy.supabase.co\";\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp1bHB3anh6cmxrYnhkYnBocmR5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzc0MTQ4NDUsImV4cCI6MjA1Mjk5MDg0NX0.rynZAq6bjPlpfyTaxHYcs8FdVdTo_gy95lazi2Kt5RY\";\nif (!supabaseUrl) {\n    throw new Error('Missing NEXT_PUBLIC_SUPABASE_URL environment variable');\n}\nif (!supabaseAnonKey) {\n    throw new Error('Missing NEXT_PUBLIC_SUPABASE_ANON_KEY environment variable');\n}\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvc3VwYWJhc2VDbGllbnQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQW9EO0FBRXBELE1BQU1DLGNBQWNDLDBDQUFvQztBQUN4RCxNQUFNRyxrQkFBa0JILGtOQUF5QztBQUVqRSxJQUFJLENBQUNELGFBQWE7SUFDaEIsTUFBTSxJQUFJTSxNQUFNO0FBQ2xCO0FBRUEsSUFBSSxDQUFDRixpQkFBaUI7SUFDcEIsTUFBTSxJQUFJRSxNQUFNO0FBQ2xCO0FBRU8sTUFBTUMsV0FBV1IsbUVBQVlBLENBQUNDLGFBQWFJLGlCQUFnQiIsInNvdXJjZXMiOlsiL1VzZXJzL211aGFtbWFkYWxpL0Rlc2t0b3AvV2luZHNjcmVlbkNvbXBhcmUvd2luZHNoaWVsZF9jb21wYXJlL1dpbmRDb21wYXJlL2xpYi9zdXBhYmFzZUNsaWVudC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnXG5cbmNvbnN0IHN1cGFiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMO1xuY29uc3Qgc3VwYWJhc2VBbm9uS2V5ID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVk7XG5cbmlmICghc3VwYWJhc2VVcmwpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIE5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCBlbnZpcm9ubWVudCB2YXJpYWJsZScpXG59XG5cbmlmICghc3VwYWJhc2VBbm9uS2V5KSB7XG4gIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSBlbnZpcm9ubWVudCB2YXJpYWJsZScpXG59XG5cbmV4cG9ydCBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudChzdXBhYmFzZVVybCwgc3VwYWJhc2VBbm9uS2V5KSAiXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50Iiwic3VwYWJhc2VVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwic3VwYWJhc2VBbm9uS2V5IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkiLCJFcnJvciIsInN1cGFiYXNlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/supabaseClient.ts\n");

/***/ }),

/***/ "(api)/./pages/api/get-quote-data.ts":
/*!*************************************!*\
  !*** ./pages/api/get-quote-data.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/supabaseClient */ \"(api)/./lib/supabaseClient.ts\");\n/* harmony import */ var _lib_inputValidation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/inputValidation */ \"(api)/./lib/inputValidation.ts\");\n/* harmony import */ var _lib_rateLimiter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/rateLimiter */ \"(api)/./lib/rateLimiter.ts\");\n\n\n\nasync function handler(req, res) {\n    if (req.method !== 'GET') {\n        return res.status(405).json({\n            message: 'Method not allowed'\n        });\n    }\n    // Apply rate limiting\n    const rateLimitResult = (0,_lib_rateLimiter__WEBPACK_IMPORTED_MODULE_2__.normalRateLimit)(req, res);\n    if (rateLimitResult !== true) {\n        return; // Rate limit response already sent\n    }\n    try {\n        const { quoteId } = req.query;\n        if (!quoteId || typeof quoteId !== 'string') {\n            return res.status(400).json({\n                message: 'Quote ID is required'\n            });\n        }\n        // Sanitize the quote ID\n        const sanitizedQuoteId = (0,_lib_inputValidation__WEBPACK_IMPORTED_MODULE_1__.sanitizeQuoteId)(quoteId);\n        if (!sanitizedQuoteId) {\n            return res.status(400).json({\n                message: 'Invalid Quote ID format'\n            });\n        }\n        // Fetch complete quote data from Supabase\n        const { data, error } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabase.from('MasterCustomer').select('*').eq('quote_id', sanitizedQuoteId).single();\n        if (error) {\n            console.error('Supabase error:', error);\n            if (error.code === 'PGRST116') {\n                return res.status(404).json({\n                    message: 'Quote not found',\n                    details: 'No quote exists with the provided ID'\n                });\n            }\n            throw error;\n        }\n        if (!data) {\n            console.error('No data returned from Supabase for quote:', quoteId);\n            return res.status(404).json({\n                message: 'Quote data is empty',\n                details: 'Quote exists but contains no data'\n            });\n        }\n        console.log('Successfully fetched data for quote:', quoteId);\n        console.log('Available fields:', Object.keys(data || {}));\n        console.log('Vehicle reg in raw data:', data.vehicle_reg);\n        // Helper function to safely parse JSON\n        const safeJsonParse = (jsonString, fallback = null)=>{\n            if (!jsonString) return fallback;\n            try {\n                return JSON.parse(jsonString);\n            } catch (e) {\n                console.warn('Failed to parse JSON:', jsonString, e);\n                return fallback;\n            }\n        };\n        // Transform the data to match frontend expectations\n        const transformedData = {\n            quoteID: data.quote_id,\n            vehicleReg: data.vehicle_reg || '',\n            vehicleDetails: {\n                manufacturer: data.brand || '',\n                model: data.model || '',\n                year: data.year || '',\n                colour: data.colour || '',\n                type: data.type || '',\n                style: data.style || '',\n                doorPlan: data.door ? `${data.door} Door` : ''\n            },\n            contactDetails: {\n                fullName: data.full_name || '',\n                email: data.email || '',\n                mobile: data.mobile || '',\n                postcode: data.postcode || '',\n                location: data.location || '',\n                date: data.appointment_date || '',\n                timeSlot: data.time_slot || ''\n            },\n            insuranceDetails: data.insurance_provider ? {\n                provider: data.insurance_provider,\n                policyNumber: data.policy_number || '',\n                incidentDate: data.incident_date || '',\n                excessAmount: data.policy_excess || '',\n                expiryDate: data.policy_expiry || ''\n            } : null,\n            selectedWindows: data.selected_windows && data.selected_windows[0] ? data.selected_windows[0] : [],\n            windowDamage: data.window_damage && data.window_damage[0] ? data.window_damage[0] : {},\n            specifications: data.window_spec && data.window_spec[0] ? data.window_spec[0] : [],\n            paymentOption: data.payment_option || 'self',\n            quotePrice: data.quote_price || 0,\n            comments: data.comments || '',\n            chipSize: data.chip_size || '',\n            glassColor: safeJsonParse(data.glass_color, {}),\n            uploadedImages: safeJsonParse(data.uploaded_images, safeJsonParse(data.damage_images, [])),\n            glassType: data.glass_type || null,\n            adasCalibration: data.adas_calibration || null\n        };\n        // Log potential data issues for debugging\n        if (!transformedData.vehicleReg) {\n            console.warn('Quote data missing vehicle_reg:', {\n                quoteId: data.quote_id,\n                hasVehicleReg: !!data.vehicle_reg,\n                allFields: Object.keys(data)\n            });\n        }\n        if (!transformedData.selectedWindows || transformedData.selectedWindows.length === 0) {\n            console.warn('Quote data missing selectedWindows:', {\n                quoteId: data.quote_id,\n                selectedWindows: data.selected_windows,\n                hasSelectedWindows: !!data.selected_windows\n            });\n        }\n        return res.status(200).json({\n            success: true,\n            data: transformedData\n        });\n    } catch (error) {\n        console.error('Error fetching quote data:', error);\n        return res.status(500).json({\n            message: 'Failed to fetch quote data',\n            error: error instanceof Error ? error.message : 'Unknown error'\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUt3RSxlQUFlLEVBQUUzRCxjQUFjYixLQUFLeUUsYUFBYSxFQUFFLEVBQUU7WUFDeEZDLFdBQVcxRSxLQUFLMkUsVUFBVSxJQUFJO1lBQzlCQyxpQkFBaUI1RSxLQUFLNkUsZ0JBQWdCLElBQUk7UUFDOUM7UUFFQSwwQ0FBMEM7UUFDMUMsSUFBSSxDQUFDekQsZ0JBQWdCRyxVQUFVLEVBQUU7WUFDN0JqQixRQUFRYSxJQUFJLENBQUMsbUNBQW1DO2dCQUM1Q3RCLFNBQVNHLEtBQUtzQixRQUFRO2dCQUN0QndELGVBQWUsQ0FBQyxDQUFDOUUsS0FBS1ksV0FBVztnQkFDakNtRSxXQUFXckUsT0FBT0MsSUFBSSxDQUFDWDtZQUMzQjtRQUNKO1FBRUEsSUFBSSxDQUFDb0IsZ0JBQWdCb0MsZUFBZSxJQUFJcEMsZ0JBQWdCb0MsZUFBZSxDQUFDd0IsTUFBTSxLQUFLLEdBQUc7WUFDbEYxRSxRQUFRYSxJQUFJLENBQUMsdUNBQXVDO2dCQUNoRHRCLFNBQVNHLEtBQUtzQixRQUFRO2dCQUN0QmtDLGlCQUFpQnhELEtBQUt5RCxnQkFBZ0I7Z0JBQ3RDd0Isb0JBQW9CLENBQUMsQ0FBQ2pGLEtBQUt5RCxnQkFBZ0I7WUFDL0M7UUFDSjtRQUVBLE9BQU9sRSxJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQ3hCd0YsU0FBUztZQUNUbEYsTUFBTW9CO1FBQ1Y7SUFDSixFQUFFLE9BQU9uQixPQUFPO1FBQ1pLLFFBQVFMLEtBQUssQ0FBQyw4QkFBOEJBO1FBQzVDLE9BQU9WLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFDeEJDLFNBQVM7WUFDVE0sT0FBT0EsaUJBQWlCa0YsUUFBUWxGLE1BQU1OLE9BQU8sR0FBRztRQUNwRDtJQUNKO0FBQ0oiLCJzb3VyY2VzIjpbIi9Vc2Vycy9tdWhhbW1hZGFsaS9EZXNrdG9wL1dpbmRzY3JlZW5Db21wYXJlL3dpbmRzaGllbGRfY29tcGFyZS9XaW5kQ29tcGFyZS9wYWdlcy9hcGkvZ2V0LXF1b3RlLWRhdGEudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSAnbmV4dCc7XG5pbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gJy4uLy4uL2xpYi9zdXBhYmFzZUNsaWVudCc7XG5pbXBvcnQgeyBzYW5pdGl6ZVF1b3RlSWQgfSBmcm9tICcuLi8uLi9saWIvaW5wdXRWYWxpZGF0aW9uJztcbmltcG9ydCB7IG5vcm1hbFJhdGVMaW1pdCB9IGZyb20gJy4uLy4uL2xpYi9yYXRlTGltaXRlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpIHtcbiAgICBpZiAocmVxLm1ldGhvZCAhPT0gJ0dFVCcpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgbWVzc2FnZTogJ01ldGhvZCBub3QgYWxsb3dlZCcgfSk7XG4gICAgfVxuXG4gICAgLy8gQXBwbHkgcmF0ZSBsaW1pdGluZ1xuICAgIGNvbnN0IHJhdGVMaW1pdFJlc3VsdCA9IG5vcm1hbFJhdGVMaW1pdChyZXEsIHJlcyk7XG4gICAgaWYgKHJhdGVMaW1pdFJlc3VsdCAhPT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm47IC8vIFJhdGUgbGltaXQgcmVzcG9uc2UgYWxyZWFkeSBzZW50XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBxdW90ZUlkIH0gPSByZXEucXVlcnk7XG5cbiAgICAgICAgaWYgKCFxdW90ZUlkIHx8IHR5cGVvZiBxdW90ZUlkICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ1F1b3RlIElEIGlzIHJlcXVpcmVkJyB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNhbml0aXplIHRoZSBxdW90ZSBJRFxuICAgICAgICBjb25zdCBzYW5pdGl6ZWRRdW90ZUlkID0gc2FuaXRpemVRdW90ZUlkKHF1b3RlSWQpO1xuICAgICAgICBpZiAoIXNhbml0aXplZFF1b3RlSWQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdJbnZhbGlkIFF1b3RlIElEIGZvcm1hdCcgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGZXRjaCBjb21wbGV0ZSBxdW90ZSBkYXRhIGZyb20gU3VwYWJhc2VcbiAgICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgIC5mcm9tKCdNYXN0ZXJDdXN0b21lcicpXG4gICAgICAgICAgICAuc2VsZWN0KCcqJylcbiAgICAgICAgICAgIC5lcSgncXVvdGVfaWQnLCBzYW5pdGl6ZWRRdW90ZUlkKVxuICAgICAgICAgICAgLnNpbmdsZSgpO1xuXG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgICAgICAgaWYgKGVycm9yLmNvZGUgPT09ICdQR1JTVDExNicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1F1b3RlIG5vdCBmb3VuZCcsXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHM6ICdObyBxdW90ZSBleGlzdHMgd2l0aCB0aGUgcHJvdmlkZWQgSUQnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignTm8gZGF0YSByZXR1cm5lZCBmcm9tIFN1cGFiYXNlIGZvciBxdW90ZTonLCBxdW90ZUlkKTtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdRdW90ZSBkYXRhIGlzIGVtcHR5JyxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiAnUXVvdGUgZXhpc3RzIGJ1dCBjb250YWlucyBubyBkYXRhJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZygnU3VjY2Vzc2Z1bGx5IGZldGNoZWQgZGF0YSBmb3IgcXVvdGU6JywgcXVvdGVJZCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdBdmFpbGFibGUgZmllbGRzOicsIE9iamVjdC5rZXlzKGRhdGEgfHwge30pKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1ZlaGljbGUgcmVnIGluIHJhdyBkYXRhOicsIGRhdGEudmVoaWNsZV9yZWcpO1xuXG4gICAgICAgIC8vIEhlbHBlciBmdW5jdGlvbiB0byBzYWZlbHkgcGFyc2UgSlNPTlxuICAgICAgICBjb25zdCBzYWZlSnNvblBhcnNlID0gKGpzb25TdHJpbmc6IHN0cmluZyB8IG51bGwsIGZhbGxiYWNrOiBhbnkgPSBudWxsKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWpzb25TdHJpbmcpIHJldHVybiBmYWxsYmFjaztcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoanNvblN0cmluZyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gcGFyc2UgSlNPTjonLCBqc29uU3RyaW5nLCBlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsbGJhY2s7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gVHJhbnNmb3JtIHRoZSBkYXRhIHRvIG1hdGNoIGZyb250ZW5kIGV4cGVjdGF0aW9uc1xuICAgICAgICBjb25zdCB0cmFuc2Zvcm1lZERhdGEgPSB7XG4gICAgICAgICAgICBxdW90ZUlEOiBkYXRhLnF1b3RlX2lkLFxuICAgICAgICAgICAgdmVoaWNsZVJlZzogZGF0YS52ZWhpY2xlX3JlZyB8fCAnJyxcbiAgICAgICAgICAgIHZlaGljbGVEZXRhaWxzOiB7XG4gICAgICAgICAgICAgICAgbWFudWZhY3R1cmVyOiBkYXRhLmJyYW5kIHx8ICcnLFxuICAgICAgICAgICAgICAgIG1vZGVsOiBkYXRhLm1vZGVsIHx8ICcnLFxuICAgICAgICAgICAgICAgIHllYXI6IGRhdGEueWVhciB8fCAnJyxcbiAgICAgICAgICAgICAgICBjb2xvdXI6IGRhdGEuY29sb3VyIHx8ICcnLFxuICAgICAgICAgICAgICAgIHR5cGU6IGRhdGEudHlwZSB8fCAnJyxcbiAgICAgICAgICAgICAgICBzdHlsZTogZGF0YS5zdHlsZSB8fCAnJyxcbiAgICAgICAgICAgICAgICBkb29yUGxhbjogZGF0YS5kb29yID8gYCR7ZGF0YS5kb29yfSBEb29yYCA6ICcnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29udGFjdERldGFpbHM6IHtcbiAgICAgICAgICAgICAgICBmdWxsTmFtZTogZGF0YS5mdWxsX25hbWUgfHwgJycsXG4gICAgICAgICAgICAgICAgZW1haWw6IGRhdGEuZW1haWwgfHwgJycsXG4gICAgICAgICAgICAgICAgbW9iaWxlOiBkYXRhLm1vYmlsZSB8fCAnJyxcbiAgICAgICAgICAgICAgICBwb3N0Y29kZTogZGF0YS5wb3N0Y29kZSB8fCAnJyxcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjogZGF0YS5sb2NhdGlvbiB8fCAnJyxcbiAgICAgICAgICAgICAgICBkYXRlOiBkYXRhLmFwcG9pbnRtZW50X2RhdGUgfHwgJycsXG4gICAgICAgICAgICAgICAgdGltZVNsb3Q6IGRhdGEudGltZV9zbG90IHx8ICcnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaW5zdXJhbmNlRGV0YWlsczogZGF0YS5pbnN1cmFuY2VfcHJvdmlkZXIgPyB7XG4gICAgICAgICAgICAgICAgcHJvdmlkZXI6IGRhdGEuaW5zdXJhbmNlX3Byb3ZpZGVyLFxuICAgICAgICAgICAgICAgIHBvbGljeU51bWJlcjogZGF0YS5wb2xpY3lfbnVtYmVyIHx8ICcnLFxuICAgICAgICAgICAgICAgIGluY2lkZW50RGF0ZTogZGF0YS5pbmNpZGVudF9kYXRlIHx8ICcnLFxuICAgICAgICAgICAgICAgIGV4Y2Vzc0Ftb3VudDogZGF0YS5wb2xpY3lfZXhjZXNzIHx8ICcnLFxuICAgICAgICAgICAgICAgIGV4cGlyeURhdGU6IGRhdGEucG9saWN5X2V4cGlyeSB8fCAnJ1xuICAgICAgICAgICAgfSA6IG51bGwsXG4gICAgICAgICAgICBzZWxlY3RlZFdpbmRvd3M6IGRhdGEuc2VsZWN0ZWRfd2luZG93cyAmJiBkYXRhLnNlbGVjdGVkX3dpbmRvd3NbMF0gPyBkYXRhLnNlbGVjdGVkX3dpbmRvd3NbMF0gOiBbXSxcbiAgICAgICAgICAgIHdpbmRvd0RhbWFnZTogZGF0YS53aW5kb3dfZGFtYWdlICYmIGRhdGEud2luZG93X2RhbWFnZVswXSA/IGRhdGEud2luZG93X2RhbWFnZVswXSA6IHt9LFxuICAgICAgICAgICAgc3BlY2lmaWNhdGlvbnM6IGRhdGEud2luZG93X3NwZWMgJiYgZGF0YS53aW5kb3dfc3BlY1swXSA/IGRhdGEud2luZG93X3NwZWNbMF0gOiBbXSxcbiAgICAgICAgICAgIHBheW1lbnRPcHRpb246IGRhdGEucGF5bWVudF9vcHRpb24gfHwgJ3NlbGYnLFxuICAgICAgICAgICAgcXVvdGVQcmljZTogZGF0YS5xdW90ZV9wcmljZSB8fCAwLFxuXG4gICAgICAgICAgICBjb21tZW50czogZGF0YS5jb21tZW50cyB8fCAnJyxcbiAgICAgICAgICAgIGNoaXBTaXplOiBkYXRhLmNoaXBfc2l6ZSB8fCAnJyxcbiAgICAgICAgICAgIGdsYXNzQ29sb3I6IHNhZmVKc29uUGFyc2UoZGF0YS5nbGFzc19jb2xvciwge30pLFxuICAgICAgICAgICAgdXBsb2FkZWRJbWFnZXM6IHNhZmVKc29uUGFyc2UoZGF0YS51cGxvYWRlZF9pbWFnZXMsIHNhZmVKc29uUGFyc2UoZGF0YS5kYW1hZ2VfaW1hZ2VzLCBbXSkpLFxuICAgICAgICAgICAgZ2xhc3NUeXBlOiBkYXRhLmdsYXNzX3R5cGUgfHwgbnVsbCxcbiAgICAgICAgICAgIGFkYXNDYWxpYnJhdGlvbjogZGF0YS5hZGFzX2NhbGlicmF0aW9uIHx8IG51bGxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBMb2cgcG90ZW50aWFsIGRhdGEgaXNzdWVzIGZvciBkZWJ1Z2dpbmdcbiAgICAgICAgaWYgKCF0cmFuc2Zvcm1lZERhdGEudmVoaWNsZVJlZykge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdRdW90ZSBkYXRhIG1pc3NpbmcgdmVoaWNsZV9yZWc6Jywge1xuICAgICAgICAgICAgICAgIHF1b3RlSWQ6IGRhdGEucXVvdGVfaWQsXG4gICAgICAgICAgICAgICAgaGFzVmVoaWNsZVJlZzogISFkYXRhLnZlaGljbGVfcmVnLFxuICAgICAgICAgICAgICAgIGFsbEZpZWxkczogT2JqZWN0LmtleXMoZGF0YSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0cmFuc2Zvcm1lZERhdGEuc2VsZWN0ZWRXaW5kb3dzIHx8IHRyYW5zZm9ybWVkRGF0YS5zZWxlY3RlZFdpbmRvd3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1F1b3RlIGRhdGEgbWlzc2luZyBzZWxlY3RlZFdpbmRvd3M6Jywge1xuICAgICAgICAgICAgICAgIHF1b3RlSWQ6IGRhdGEucXVvdGVfaWQsXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRXaW5kb3dzOiBkYXRhLnNlbGVjdGVkX3dpbmRvd3MsXG4gICAgICAgICAgICAgICAgaGFzU2VsZWN0ZWRXaW5kb3dzOiAhIWRhdGEuc2VsZWN0ZWRfd2luZG93c1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgIGRhdGE6IHRyYW5zZm9ybWVkRGF0YVxuICAgICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBxdW90ZSBkYXRhOicsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gZmV0Y2ggcXVvdGUgZGF0YScsXG4gICAgICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcidcbiAgICAgICAgfSk7XG4gICAgfVxufSAiXSwibmFtZXMiOlsic3VwYWJhc2UiLCJzYW5pdGl6ZVF1b3RlSWQiLCJub3JtYWxSYXRlTGltaXQiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJyYXRlTGltaXRSZXN1bHQiLCJxdW90ZUlkIiwicXVlcnkiLCJzYW5pdGl6ZWRRdW90ZUlkIiwiZGF0YSIsImVycm9yIiwiZnJvbSIsInNlbGVjdCIsImVxIiwic2luZ2xlIiwiY29uc29sZSIsImNvZGUiLCJkZXRhaWxzIiwibG9nIiwiT2JqZWN0Iiwia2V5cyIsInZlaGljbGVfcmVnIiwic2FmZUpzb25QYXJzZSIsImpzb25TdHJpbmciLCJmYWxsYmFjayIsIkpTT04iLCJwYXJzZSIsImUiLCJ3YXJuIiwidHJhbnNmb3JtZWREYXRhIiwicXVvdGVJRCIsInF1b3RlX2lkIiwidmVoaWNsZVJlZyIsInZlaGljbGVEZXRhaWxzIiwibWFudWZhY3R1cmVyIiwiYnJhbmQiLCJtb2RlbCIsInllYXIiLCJjb2xvdXIiLCJ0eXBlIiwic3R5bGUiLCJkb29yUGxhbiIsImRvb3IiLCJjb250YWN0RGV0YWlscyIsImZ1bGxOYW1lIiwiZnVsbF9uYW1lIiwiZW1haWwiLCJtb2JpbGUiLCJwb3N0Y29kZSIsImxvY2F0aW9uIiwiZGF0ZSIsImFwcG9pbnRtZW50X2RhdGUiLCJ0aW1lU2xvdCIsInRpbWVfc2xvdCIsImluc3VyYW5jZURldGFpbHMiLCJpbnN1cmFuY2VfcHJvdmlkZXIiLCJwcm92aWRlciIsInBvbGljeU51bWJlciIsInBvbGljeV9udW1iZXIiLCJpbmNpZGVudERhdGUiLCJpbmNpZGVudF9kYXRlIiwiZXhjZXNzQW1vdW50IiwicG9saWN5X2V4Y2VzcyIsImV4cGlyeURhdGUiLCJwb2xpY3lfZXhwaXJ5Iiwic2VsZWN0ZWRXaW5kb3dzIiwic2VsZWN0ZWRfd2luZG93cyIsIndpbmRvd0RhbWFnZSIsIndpbmRvd19kYW1hZ2UiLCJzcGVjaWZpY2F0aW9ucyIsIndpbmRvd19zcGVjIiwicGF5bWVudE9wdGlvbiIsInBheW1lbnRfb3B0aW9uIiwicXVvdGVQcmljZSIsInF1b3RlX3ByaWNlIiwiY29tbWVudHMiLCJjaGlwU2l6ZSIsImNoaXBfc2l6ZSIsImdsYXNzQ29sb3IiLCJnbGFzc19jb2xvciIsInVwbG9hZGVkSW1hZ2VzIiwidXBsb2FkZWRfaW1hZ2VzIiwiZGFtYWdlX2ltYWdlcyIsImdsYXNzVHlwZSIsImdsYXNzX3R5cGUiLCJhZGFzQ2FsaWJyYXRpb24iLCJhZGFzX2NhbGlicmF0aW9uIiwiaGFzVmVoaWNsZVJlZyIsImFsbEZpZWxkcyIsImxlbmd0aCIsImhhc1NlbGVjdGVkV2luZG93cyIsInN1Y2Nlc3MiLCJFcnJvciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/get-quote-data.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fget-quote-data&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fget-quote-data.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();